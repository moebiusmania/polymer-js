{"version":3,"sources":["webpack:///webpack/bootstrap d5defa79831d6ced1e39","webpack:///./~/@polymer/polymer/lib/utils/boot.html","webpack:///./~/@polymer/polymer/lib/utils/mixin.html","webpack:///./~/@polymer/polymer/lib/utils/case-map.html","webpack:///./~/@polymer/polymer/lib/utils/resolve-url.html","webpack:///./index.js","webpack:///./components/fake-app/index.js","webpack:///./components/fake-app/template.html","webpack:///./~/@polymer/polymer/lib/elements/dom-module.html","webpack:///./~/@polymer/polymer/lib/mixins/element-mixin.html","webpack:///./~/@polymer/polymer/lib/mixins/property-accessors.html","webpack:///./~/@polymer/polymer/lib/mixins/property-effects.html","webpack:///./~/@polymer/polymer/lib/mixins/template-stamp.html","webpack:///./~/@polymer/polymer/lib/utils/async.html","webpack:///./~/@polymer/polymer/lib/utils/path.html","webpack:///./~/@polymer/polymer/lib/utils/style-gather.html","webpack:///./~/@polymer/polymer/polymer-element.html"],"names":["userPolymer","window","Polymer","info","_polymerFn","Object","assign","Error","version","JSCompiler_renameProperty","prop","obj","require","dedupeId","cachingMixin","mixin","base","__mixinApplications","WeakMap","map","application","get","set","dedupingMixin","__dedupeId","baseSet","__mixinSet","extended","create","caseMap","DASH_TO_CAMEL","CAMEL_TO_DASH","CaseMap","dashToCamelCase","dash","indexOf","replace","m","toUpperCase","camelToDashCase","camel","toLowerCase","CSS_URL_RX","ABS_URL","workingURL","resolveDoc","resolveUrl","url","baseURI","test","undefined","u","URL","pathname","href","e","document","location","implementation","createHTMLDocument","createElement","head","appendChild","anchor","body","resolveCss","cssText","pre","post","pathFromUrl","substring","lastIndexOf","ResolveUrl","FakeApp","Element","is","properties","type","String","value","customElements","define","a","b","c","d","innerHTML","children","length","write","modules","lcModules","findModule","id","styleOutsideTemplateCheck","inst","querySelector","console","warn","DomModule","HTMLElement","observedAttributes","import","selector","attributeChangedCallback","name","old","register","assetpath","__assetpath","owner","HTMLImports","importForElement","ownerDocument","getAttribute","prototype","PolymerElementProperties","PolymerElementConstructor","extends","observers","template","ElementMixin","polymerElementBase","PropertyEffects","ownPropertiesForClass","klass","hasOwnProperty","__ownProperties","ownObserversForClass","__ownObservers","flattenProperties","flattenedProps","props","p","o","propertiesForClass","__classProperties","superCtor","getPrototypeOf","constructor","PolymerElement","propertyDefaultsForClass","__classPropertyDefaults","hasClassFinalized","finalizeClassAndSuper","proto","finalize","finalizeClass","__finalized","telemetry","finalizeProperties","finalizeObservers","t","cloneNode","_template","createPropertyFromConfig","dynamicFns","i","_createMethodObserver","allProps","computed","readOnly","_hasReadOnlyEffect","_createComputedProperty","_createReadOnlyProperty","reflectToAttribute","_hasReflectEffect","_createReflectedProperty","notify","_hasNotifyEffect","_createNotifyingProperty","observer","_createPropertyObserver","finalizeTemplate","ext","StyleGather","cssFromTemplate","cssFromModuleImports","style","textContent","content","insertBefore","firstChild","ShadyCSS","prepareTemplate","_bindTemplate","list","push","__observedAttributes","importPath","module","_importPath","_initializeProperties","instanceCount","__polymerFinalized","__proto__","localName","rootPath","p$","call","_hasAccessor","_setPendingProperty","connectedCallback","styleElement","_enableProperties","disconnectedCallback","ready","root","_stampTemplate","$","_readyClients","_attachDom","dom","attachShadow","shadowRoot","mode","property","_attributeToProperty","updateStyles","styleSubtree","_parseTemplateContent","templateInfo","nodeInfo","registrations","_regLog","log","dumpRegistrations","forEach","styleDocument","microtask","Async","microTask","nativeProperties","getOwnPropertyNames","saveAccessorValue","model","__data","__dataProto","PropertyAccessors","superClass","createPropertiesForAttributes","a$","_createPropertyAccessor","__serializing","__dataCounter","__dataEnabled","__dataInitialized","__dataInvalid","__dataPending","__dataOld","_initializeProtoProperties","__dataHasAccessor","__dataInstanceProps","_setProperty","_initializeInstanceProperties","_ensureAttribute","attribute","hasAttribute","_valueToNodeAttribute","_deserializeValue","_propertyToAttribute","arguments","node","str","_serializeValue","removeAttribute","setAttribute","Date","toString","JSON","stringify","x","outValue","Number","Boolean","parse","Array","defineProperty","_invalidateProperties","_shouldPropertyChange","_isPropertyPending","run","_flushProperties","changedProps","_propertiesChanged","currentProps","oldProps","TYPES","COMPUTE","REFLECT","NOTIFY","PROPAGATE","OBSERVE","READ_ONLY","ensureOwnEffectMap","effects","protoFx","instFx","runEffects","hasPaths","extraArgs","ran","runEffectsForProperty","rootProperty","Path","fxs","l","fx","lastRun","pathMatchesTrigger","trigger","fn","path","triggerPath","structured","isAncestor","wildcard","isDescendant","runObserverEffect","methodName","changedProp","dynamicFn","runNotifyEffects","notifyProps","__notifyEffects","notified","notifyPath","host","__dataHost","eventName","dispatchNotifyEvent","detail","queueProperty","dispatchEvent","CustomEvent","runNotifyEffect","handleNotification","event","fromProp","toPath","negate","fromPath","translate","target","__readOnly","_setPendingPropertyOrPath","runReflectEffect","sanitizeDOMValue","attrName","runComputedEffects","computeEffects","__computeEffects","inputProps","runComputedEffect","result","runMethodEffect","computedProp","methodInfo","computeLinkedPaths","links","__dataLinkedPaths","link","addBinding","kind","parts","literal","bindings","binding","isCompound","shouldAddListener","listenerEvent","listenerNegate","index","nodeInfoList","part","compoundIndex","addEffectForBindingPart","dependencies","evaluator","j","parseArg","_addTemplatePropertyEffect","runBindingEffect","nodeList","source","_enqueueClient","_evaluateBinding","applyBindingValue","computeBindingValue","_setUnmanagedPropertyToNode","storage","__dataCompoundStorage","join","setupBindings","setupCompoundStorage","addNotifyListener","literals","addEventListener","createMethodEffect","sig","effectFn","static","args","arg","_addPropertyEffect","context","_methodHost","marshalArgs","apply","emptyArray","IDENT","NUMBER","SQUOTE_STRING","DQUOTE_STRING","STRING","ARGUMENT","ARGUMENTS","ARGUMENT_LIST","BINDING","OPEN_BRACKET","CLOSE_BRACKET","NEGATE","EXPRESSION","bindingRegex","RegExp","literalFromParts","s","parseMethod","expression","match","trim","split","parseArgs","argList","rawArg","fc","slice","isPath","data","values","v","baseChanged","matches","notifySplices","array","splices","splicesPath","indexSplices","notifySplice","addedCount","removed","object","upper","propertyEffectsBase","TemplateStamp","PROPERTY_EFFECT_TYPES","hostStack","registerHost","__dataClientsInitialized","__dataPendingClients","__dataToNotify","__dataHasPaths","__dataTemp","effect","_removePropertyEffect","idx","splice","_hasPropertyEffect","_hasComputedEffect","shouldNotify","isPathNotification","isArray","prevProps","client","_flushClients","clients","setProperties","setReadOnly","_propagatePropertyChanges","__reflectEffects","__observeEffects","__propagateEffects","__templateInfo","propertyEffects","nextTemplateInfo","linkPaths","to","from","normalize","unlinkPaths","items","len","ret","pop","hadLength","start","deleteCount","Math","floor","shift","unshift","propPath","protectedSetter","attr","addPropertyEffect","createPropertyObserver","createMethodObserver","createNotifyingProperty","createReadOnlyProperty","createReflectedProperty","createComputedProperty","bindTemplate","instanceBinding","_parseTemplate","wasPreBound","last","__templateInfoLast","previousTemplateInfo","hostProps","propEffects","beginHosting","endHosting","nodes","childNodes","n","nextSibling","_removeBoundDom","parentNode","removeChild","_parseTemplateNode","noted","nodeType","Node","TEXT_NODE","_parseBindings","_parseTemplateNodeAttribute","origName","_parseTemplateNestedTemplate","text","lastIndex","exec","customEvent","notifyEvent","colon","signature","stack","stackLen","templateExtensions","wrapTemplateExtension","replaceChild","attributes","findTemplateNode","parent","parentInfo","parentIndex","applyIdToMap","applyEventListener","events","e$","_addMethodEventListenerToNode","applyTemplateContent","_templateInfo","createNodeEventHandler","handler","outerTemplateInfo","stripWhiteSpace","hasInsertionPoint","_parseTemplateChildNodes","hasAttributes","_parseTemplateNodeAttributes","next","childInfo","infoIndex","createDocumentFragment","attrs","_contentForTemplate","HTMLTemplateElement","decorate","importNode","__noInsertionPoint","_addEventListenerToNode","_removeEventListenerFromNode","removeEventListener","AsyncInterface","microtaskCurrHandle","microtaskLastHandle","microtaskCallbacks","microtaskNodeContent","microtaskNode","createTextNode","MutationObserver","microtaskFlush","observe","characterData","cb","setTimeout","timeOut","after","delay","cancel","clearTimeout","bind","animationFrame","requestAnimationFrame","cancelAnimationFrame","idlePeriod","requestIdleCallback","handle","cancelIdleCallback","callback","dotIndex","newBase","isDeep","MODULE_STYLE_LINK_SELECTOR","INCLUDE_ATTR","importModule","moduleId","cssFromModules","moduleIds","cssFromModule","_cssText","querySelectorAll","include","importDoc","container"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5defa79831d6ced1e39","/*__wc__loader*/\n\n(function() {\n  'use strict';\n\n  const userPolymer = window.Polymer;\n\n  /**\n   * @namespace Polymer\n   * @summary Polymer is a lightweight library built on top of the web\n   * standards-based Web Components API's, and makes it easy to build your\n   * own custom HTML elements.\n   * @param {Object} info Prototype for the custom element. It must contain\n   * an `is` property to specify the element name. Other properties populate\n   * the element prototype. The `properties`, `observers`, `hostAttributes`,\n   * and `listeners` properties are processed to create element features.\n   * @return {Object} Returns a custom element class for the given provided\n   * prototype `info` object. The name of the element if given by `info.is`.\n   */\n  window.Polymer = function(info) {\n    return window.Polymer._polymerFn(info);\n  }\n\n  // support user settings on the Polymer object\n  if (userPolymer) {\n    Object.assign(Polymer, userPolymer);\n  }\n\n  // To be plugged by legacy implementation if loaded\n  /**\n   * @param {Object} info Prototype for the custom element. It must contain\n   * an `is` property to specify the element name. Other properties populate\n   * the element prototype. The `properties`, `observers`, `hostAttributes`,\n   * and `listeners` properties are processed to create element features.\n   */\n  window.Polymer._polymerFn = function(info) { // eslint-disable-line no-unused-vars\n    throw new Error('Load polymer.html to use the Polymer() function.');\n  }\n  window.Polymer.version = '2.0.0';\n\n  /* eslint-disable no-unused-vars */\n  /*\n  When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]\n  We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.\n  */\n  window.JSCompiler_renameProperty = function(prop, obj) {\n    return prop;\n  }\n  /* eslint-enable */\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/boot.html","/*__wc__loader*/\nrequire('./boot.html');\n\n\n\n(function() {\n\n  'use strict';\n\n  // unique global id for deduping mixins.\n  let dedupeId = 0;\n\n  /**\n   * Given a mixin producing function, memoize applications of mixin to base\n   * @private\n   * @param {Function} mixin Mixin for which to create a caching mixin.\n   * @return {Function} Returns a mixin which when applied multiple times to the\n   * same base will always return the same extended class.\n   */\n  function cachingMixin(mixin) {\n    return function(base) {\n      if (!mixin.__mixinApplications) {\n        mixin.__mixinApplications = new WeakMap();\n      }\n      let map = mixin.__mixinApplications;\n      let application = map.get(base);\n      if (!application) {\n        application = mixin(base);\n        map.set(base, application);\n      }\n      return application;\n    };\n  }\n\n  /**\n   * Wraps an ES6 class expression mixin such that the mixin is only applied\n   * if it has not already been applied its base argument.  Also memoizes mixin\n   * applications.\n   *\n   * @memberof Polymer\n   * @param {Function} mixin ES6 class expression mixin to wrap\n   * @return {Function} Wrapped mixin that deduplicates and memoizes\n   *   mixin applications to base\n   */\n  Polymer.dedupingMixin = function(mixin) {\n    mixin = cachingMixin(mixin);\n    // maintain a unique id for each mixin\n    mixin.__dedupeId = ++dedupeId;\n    return function(base) {\n      let baseSet = base.__mixinSet;\n      if (baseSet && baseSet[mixin.__dedupeId]) {\n        return base;\n      }\n      let extended = mixin(base);\n      // copy inherited mixin set from the extended class, or the base class\n      // NOTE: we avoid use of Set here because some browser (IE11)\n      // cannot extend a base Set via the constructor.\n      extended.__mixinSet =\n        Object.create(extended.__mixinSet || baseSet || null);\n      extended.__mixinSet[mixin.__dedupeId] = true;\n      return extended;\n    }\n  };\n\n})();\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/mixin.html","/*__wc__loader*/\nrequire('./boot.html');\n\n\n(function() {\n  'use strict';\n\n  const caseMap = {};\n  const DASH_TO_CAMEL = /-[a-z]/g;\n  const CAMEL_TO_DASH = /([A-Z])/g;\n\n  /**\n   * Module with utilities for converting between \"dash-case\" and \"camelCase\"\n   * identifiers.\n   *\n   * @namespace\n   * @memberof Polymer\n   * @summary Module that provides utilities for converting between \"dash-case\"\n   *   and \"camelCase\".\n   */\n  const CaseMap = {\n\n    /**\n     * Converts \"dash-case\" identifier (e.g. `foo-bar-baz`) to \"camelCase\"\n     * (e.g. `fooBarBaz`).\n     *\n     * @memberof Polymer.CaseMap\n     * @param {string} dash Dash-case identifier\n     * @return {string} Camel-case representation of the identifier\n     */\n    dashToCamelCase(dash) {\n      return caseMap[dash] || (\n        caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(DASH_TO_CAMEL,\n          (m) => m[1].toUpperCase()\n        )\n      );\n    },\n\n    /**\n     * Converts \"camelCase\" identifier (e.g. `fooBarBaz`) to \"dash-case\"\n     * (e.g. `foo-bar-baz`).\n     *\n     * @memberof Polymer.CaseMap\n     * @param {string} camel Camel-case identifier\n     * @return {string} Dash-case representation of the identifier\n     */\n    camelToDashCase(camel) {\n      return caseMap[camel] || (\n        caseMap[camel] = camel.replace(CAMEL_TO_DASH, '-$1').toLowerCase()\n      );\n    }\n\n  };\n\n  Polymer.CaseMap = CaseMap;\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/case-map.html","/*__wc__loader*/\nrequire('./boot.html');\n\n\n\n  (function() {\n    'use strict';\n\n    let CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\n    let ABS_URL = /(^\\/)|(^#)|(^[\\w-\\d]*:)/;\n    let workingURL;\n    let resolveDoc;\n    /**\n     * Resolves the given URL against the provided `baseUri'.\n     *\n     * @memberof Polymer.ResolveUrl\n     * @param {string} url Input URL to resolve\n     * @param {string} baseURI Base URI to resolve the URL against\n     * @return {string} resolved URL\n     */\n    function resolveUrl(url, baseURI) {\n      if (url && ABS_URL.test(url)) {\n        return url;\n      }\n      // Lazy feature detection.\n      if (workingURL === undefined) {\n        workingURL = false;\n        try {\n          const u = new URL('b', 'http://a');\n          u.pathname = 'c%20d';\n          workingURL = (u.href === 'http://a/c%20d');\n        } catch (e) {\n          // silently fail\n        }\n      }\n      if (!baseURI) {\n        baseURI = document.baseURI || window.location.href;\n      }\n      if (workingURL) {\n        return (new URL(url, baseURI)).href;\n      }\n      // Fallback to creating an anchor into a disconnected document.\n      if (!resolveDoc) {\n        resolveDoc = document.implementation.createHTMLDocument('temp');\n        resolveDoc.base = resolveDoc.createElement('base');\n        resolveDoc.head.appendChild(resolveDoc.base);\n        resolveDoc.anchor = resolveDoc.createElement('a');\n        resolveDoc.body.appendChild(resolveDoc.anchor);\n      }\n      resolveDoc.base.href = baseURI;\n      resolveDoc.anchor.href = url;\n      return resolveDoc.anchor.href || url;\n\n    }\n\n    /**\n     * Resolves any relative URL's in the given CSS text against the provided\n     * `ownerDocument`'s `baseURI`.\n     *\n     * @memberof Polymer.ResolveUrl\n     * @param {string} cssText CSS text to process\n     * @param {string} baseURI Base URI to resolve the URL against\n     * @return {string} Processed CSS text with resolved URL's\n     */\n    function resolveCss(cssText, baseURI) {\n      return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n        return pre + '\\'' +\n          resolveUrl(url.replace(/[\"']/g, ''), baseURI) +\n          '\\'' + post;\n      });\n    }\n\n    /**\n     * Returns a path from a given `url`. The path includes the trailing\n     * `/` from the url.\n     *\n     * @memberof Polymer.ResolveUrl\n     * @param {string} url Input URL to transform\n     * @return {string} resolved path\n     */\n    function pathFromUrl(url) {\n      return url.substring(0, url.lastIndexOf('/') + 1);\n    }\n\n    /**\n     * Module with utilities for resolving relative URL's.\n     *\n     * @namespace\n     * @memberof Polymer\n     * @summary Module with utilities for resolving relative URL's.\n     */\n    Polymer.ResolveUrl = {\n      resolveCss: resolveCss,\n      resolveUrl: resolveUrl,\n      pathFromUrl: pathFromUrl\n    };\n\n  })();\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/resolve-url.html","'use strict';\n\nimport './components/fake-app';\n\n\n// WEBPACK FOOTER //\n// ./index.js","'use strict';\n\nimport '@polymer/polymer/polymer-element.html';\nimport './template.html';\n\nclass FakeApp extends Polymer.Element {\n  static get is() { return 'fake-app' }\n  static get properties() {\n    return {\n      test: {\n        type: String,\n        value: \"hello world\"\n      },\n      version: {\n        type: String,\n        value: () => { return window.Polymer.version }  \n      }\n    }\n  }\n\n}\n\ncustomElements.define(FakeApp.is, FakeApp);\n\n\n// WEBPACK FOOTER //\n// ./components/fake-app/index.js","/*__wc__loader*/!function(a){var b=\"<dom-module id=\\\"fake-app\\\"><template><style>:host{display:block;width:80%;margin:30px auto;}</style><slot></slot><p><small>Running on Polymer [[version]]</small></p></template></dom-module>\";if(a.body){var c=a.body,d=a.createElement(\"div\");for(d.innerHTML=b;d.children.length>0;)c.appendChild(d.children[0])}else a.write(b)}(document);\n\n\n// WEBPACK FOOTER //\n// ./components/fake-app/template.html","/*__wc__loader*/\nrequire('../utils/boot.html');\n\nrequire('../utils/resolve-url.html');\n\n\n(function() {\n  'use strict';\n\n  let modules = {};\n  let lcModules = {};\n  function findModule(id) {\n    return modules[id] || lcModules[id.toLowerCase()];\n  }\n\n  function styleOutsideTemplateCheck(inst) {\n    if (inst.querySelector('style')) {\n      console.warn('dom-module %s has style outside template', inst.id);\n    }\n  }\n\n  /**\n   * The `dom-module` element registers the dom it contains to the name given\n   * by the module's id attribute. It provides a unified database of dom\n   * accessible via its static `import` API.\n   *\n   * A key use case of `dom-module` is for providing custom element `<template>`s\n   * via HTML imports that are parsed by the native HTML parser, that can be\n   * relocated during a bundling pass and still looked up by `id`.\n   *\n   * Example:\n   *\n   *     <dom-module id=\"foo\">\n   *       <img src=\"stuff.png\">\n   *     </dom-module>\n   *\n   * Then in code in some other location that cannot access the dom-module above\n   *\n   *     let img = document.createElement('dom-module').import('foo', 'img');\n   *\n   * @extends HTMLElement\n   * @memberof Polymer\n   * @summary Custom element that provides a registry of relocatable DOM content\n   *   by `id` that is agnostic to bundling.\n   */\n  class DomModule extends HTMLElement {\n\n    static get observedAttributes() { return ['id'] }\n\n    /**\n     * Retrieves the element specified by the css `selector` in the module\n     * registered by `id`. For example, this.import('foo', 'img');\n     * @param {string} id The id of the dom-module in which to search.\n     * @param {string=} selector The css selector by which to find the element.\n     * @return {Element} Returns the element which matches `selector` in the\n     * module registered at the specified `id`.\n     */\n    static import(id, selector) {\n      if (id) {\n        let m = findModule(id);\n        if (m && selector) {\n          return m.querySelector(selector);\n        }\n        return m;\n      }\n      return null;\n    }\n\n    attributeChangedCallback(name, old, value) {\n      if (old !== value) {\n        this.register();\n      }\n    }\n\n    /**\n     * The absolute URL of the original location of this `dom-module`.\n     *\n     * This value will differ from this element's `ownerDocument` in the\n     * following ways:\n     * - Takes into account any `assetpath` attribute added during bundling\n     *   to indicate the original location relative to the bundled location\n     * - Uses the HTMLImports polyfill's `importForElement` API to ensure\n     *   the path is relative to the import document's location since\n     *   `ownerDocument` is not currently polyfilled\n     */\n    get assetpath() {\n      // Don't override existing assetpath.\n      if (!this.__assetpath) {\n        // note: assetpath set via an attribute must be relative to this\n        // element's location; accomodate polyfilled HTMLImports\n        const owner = window.HTMLImports && HTMLImports.importForElement ?\n          HTMLImports.importForElement(this) || document : this.ownerDocument;\n        const url = Polymer.ResolveUrl.resolveUrl(\n          this.getAttribute('assetpath') || '', owner.baseURI);\n        this.__assetpath = Polymer.ResolveUrl.pathFromUrl(url);\n      }\n      return this.__assetpath;\n    }\n\n    /**\n     * Registers the dom-module at a given id. This method should only be called\n     * when a dom-module is imperatively created. For\n     * example, `document.createElement('dom-module').register('foo')`.\n     * @param {string=} id The id at which to register the dom-module.\n     */\n    register(id) {\n      id = id || this.id;\n      if (id) {\n        this.id = id;\n        // store id separate from lowercased id so that\n        // in all cases mixedCase id will stored distinctly\n        // and lowercase version is a fallback\n        modules[id] = this;\n        lcModules[id.toLowerCase()] = this;\n        styleOutsideTemplateCheck(this);\n      }\n    }\n  }\n\n  DomModule.prototype['modules'] = modules;\n\n  customElements.define('dom-module', DomModule);\n\n  // export\n  Polymer.DomModule = DomModule;\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/elements/dom-module.html","/*__wc__loader*/\nrequire('../utils/boot.html');\n\nrequire('../utils/mixin.html');\n\nrequire('../utils/case-map.html');\n\nrequire('../utils/style-gather.html');\n\nrequire('../utils/resolve-url.html');\n\nrequire('../elements/dom-module.html');\n\nrequire('./property-effects.html');\n\n\n(function() {\n  'use strict';\n  /**\n   * @typedef Object<string, {\n   *   value: *,\n   *   type: (Function | undefined),\n   *   readOnly: (boolean | undefined),\n   *   computed: (string | undefined),\n   *   reflectToAttribute: (boolean | undefined),\n   *   notify: (boolean | undefined),\n   *   observer: (string | undefined)\n   * }>)\n   */\n  let PolymerElementProperties; // eslint-disable-line no-unused-vars\n\n  /** @record */\n  let PolymerElementConstructor = function(){}; // eslint-disable-line no-unused-vars\n  /** @type {(string | undefined)} */\n  PolymerElementConstructor.is;\n  /** @type {(string | undefined)} */\n  PolymerElementConstructor.extends;\n  /** @type {(!PolymerElementProperties | undefined)} */\n  PolymerElementConstructor.properties;\n  /** @type {(!Array<string> | undefined)} */\n  PolymerElementConstructor.observers;\n  /** @type {(!HTMLTemplateElement | string | undefined)} */\n  PolymerElementConstructor.template;\n\n  /**\n   * Element class mixin that provides the core API for Polymer's meta-programming\n   * features including template stamping, data-binding, attribute deserialization,\n   * and property change observation.\n   *\n   * Subclassers may provide the following static getters to return metadata\n   * used to configure Polymer's features for the class:\n   *\n   * - `static get is()`: When the template is provided via a `dom-module`,\n   *   users should return the `dom-module` id from a static `is` getter.  If\n   *   no template is needed or the template is provided directly via the\n   *   `template` getter, there is no need to define `is` for the element.\n   *\n   * - `static get template()`: Users may provide the template directly (as\n   *   opposed to via `dom-module`) by implementing a static `template` getter.\n   *   The getter may return an `HTMLTemplateElement` or a string, which will\n   *   automatically be parsed into a template.\n   *\n   * - `static get properties()`: Should return an object describing\n   *   property-related metadata used by Polymer features (key: property name\n   *   value: object containing property metadata). Valid keys in per-property\n   *   metadata include:\n   *   - `type` (String|Number|Object|Array|...): Used by\n   *     `attributeChangedCallback` to determine how string-based attributes\n   *     are deserialized to JavaScript property values.\n   *   - `notify` (boolean): Causes a change in the property to fire a\n   *     non-bubbling event called `<property>-changed`. Elements that have\n   *     enabled two-way binding to the property use this event to observe changes.\n   *   - `readOnly` (boolean): Creates a getter for the property, but no setter.\n   *     To set a read-only property, use the private setter method\n   *     `_setProperty(property, value)`.\n   *   - `observer` (string): Observer method name that will be called when\n   *     the property changes. The arguments of the method are\n   *     `(value, previousValue)`.\n   *   - `computed` (string): String describing method and dependent properties\n   *     for computing the value of this property (e.g. `'computeFoo(bar, zot)'`).\n   *     Computed properties are read-only by default and can only be changed\n   *     via the return value of the computing method.\n   *\n   * - `static get observers()`: Array of strings describing multi-property\n   *   observer methods and their dependent properties (e.g.\n   *   `'observeABC(a, b, c)'`).\n   *\n   * The base class provides default implementations for the following standard\n   * custom element lifecycle callbacks; users may override these, but should\n   * call the super method to ensure\n   * - `constructor`: Run when the element is created or upgraded\n   * - `connectedCallback`: Run each time the element is connected to the\n   *   document\n   * - `disconnectedCallback`: Run each time the element is disconnected from\n   *   the document\n   * - `attributeChangedCallback`: Run each time an attribute in\n   *   `observedAttributes` is set or removed (note: this element's default\n   *   `observedAttributes` implementation will automatically return an array\n   *   of dash-cased attributes based on `properties`)\n   *\n   * @polymerMixin\n   * @mixes Polymer.PropertyEffects\n   * @memberof Polymer\n   * @property rootPath {string} Set to the value of `Polymer.rootPath`,\n   *   which defaults to the main document path\n   * @property importPath {string} Set to the value of the class's static\n   *   `importPath` property, which defaults to the path of this element's\n   *   `dom-module` (when `is` is used), but can be overridden for other\n   *   import strategies.\n   * @summary Element class mixin that provides the core API for Polymer's\n   * meta-programming features.\n   */\n  Polymer.ElementMixin = Polymer.dedupingMixin(base => {\n\n    /**\n     * @constructor\n     * @extends {base}\n     * @implements {Polymer_PropertyEffects}\n     */\n    const polymerElementBase = Polymer.PropertyEffects(base);\n\n    let caseMap = Polymer.CaseMap;\n\n    /**\n     * Returns the `properties` object specifically on `klass`. Use for:\n     * (1) super chain mixes togther to make `propertiesForClass` which is\n     * then used to make `observedAttributes`.\n     * (2) properties effects and observers are created from it at `finalize` time.\n     *\n     * @param {HTMLElement} klass Element class\n     * @return {Object} Object containing own properties for this class\n     * @private\n     */\n    function ownPropertiesForClass(klass) {\n      if (!klass.hasOwnProperty(\n        JSCompiler_renameProperty('__ownProperties', klass))) {\n        klass.__ownProperties =\n          klass.hasOwnProperty(JSCompiler_renameProperty('properties', klass)) ?\n          klass.properties : {};\n      }\n      return klass.__ownProperties;\n    }\n\n    /**\n     * Returns the `observers` array specifically on `klass`. Use for\n     * setting up observers.\n     *\n     * @param {HTMLElement} klass Element class\n     * @return {Array} Array containing own observers for this class\n     * @private\n     */\n    function ownObserversForClass(klass) {\n      if (!klass.hasOwnProperty(\n        JSCompiler_renameProperty('__ownObservers', klass))) {\n        klass.__ownObservers =\n          klass.hasOwnProperty(JSCompiler_renameProperty('observers', klass)) ?\n          klass.observers : [];\n      }\n      return klass.__ownObservers;\n    }\n\n    /**\n     * Mixes `props` into `flattenedProps` but upgrades shorthand type\n     * syntax to { type: Type}.\n     *\n     * @param {Object} flattenedProps Bag to collect flattened properties into\n     * @param {Object} props Bag of properties to add to `flattenedProps`\n     * @return {Objecg} The input `flattenedProps` bag\n     * @private\n     */\n    function flattenProperties(flattenedProps, props) {\n      for (let p in props) {\n        let o = props[p];\n        if (typeof o == 'function') {\n          o = { type: o };\n        }\n        flattenedProps[p] = o;\n      }\n      return flattenedProps;\n    }\n\n    /**\n     * Returns a flattened list of properties mixed together from the chain of all\n     * constructor's `config.properties`. This list is used to create\n     * (1) observedAttributes,\n     * (2) class property default values\n     *\n     * @param {HTMLElement} klass Element class\n     * @return {PolymerElementProperties} Flattened properties for this class\n     * @private\n     */\n    function propertiesForClass(klass) {\n      if (!klass.hasOwnProperty(\n        JSCompiler_renameProperty('__classProperties', klass))) {\n        klass.__classProperties =\n        flattenProperties({}, ownPropertiesForClass(klass));\n        let superCtor = Object.getPrototypeOf(klass.prototype).constructor;\n        if (superCtor.prototype instanceof PolymerElement) {\n          klass.__classProperties = Object.assign(\n            Object.create(propertiesForClass(superCtor)),\n            klass.__classProperties);\n        }\n      }\n      return klass.__classProperties;\n    }\n\n    /**\n     * Returns a list of properties with default values.\n     * This list is created as an optimization since it is a subset of\n     * the list returned from `propertiesForClass`.\n     * This list is used in `_initializeProperties` to set property defaults.\n     *\n     * @param {HTMLElement} klass Element class\n     * @return {PolymerElementProperties} Flattened properties for this class\n     *   that have default values\n     * @private\n     */\n    function propertyDefaultsForClass(klass) {\n      if (!klass.hasOwnProperty(\n        JSCompiler_renameProperty('__classPropertyDefaults', klass))) {\n        klass.__classPropertyDefaults = null;\n        let props = propertiesForClass(klass);\n        for (let p in props) {\n          let info = props[p];\n          if ('value' in info) {\n            klass.__classPropertyDefaults = klass.__classPropertyDefaults || {};\n            klass.__classPropertyDefaults[p] = info;\n          }\n        }\n      }\n      return klass.__classPropertyDefaults;\n    }\n\n    /**\n     * Returns true if a `klass` has finalized. Called in `ElementClass.finalize()`\n     * @param {HTMLElement} klass Element class\n     * @return {boolean} True if all metaprogramming for this class has been\n     *   completed\n     * @private\n     */\n    function hasClassFinalized(klass) {\n      return klass.hasOwnProperty(JSCompiler_renameProperty('__finalized', klass));\n    }\n\n    /**\n     * Called by `ElementClass.finalize()`. Ensures this `klass` and\n     * *all superclasses* are finalized by traversing the prototype chain\n     * and calling `klass.finalize()`.\n     *\n     * @param {HTMLElement} klass Element class\n     * @private\n     */\n    function finalizeClassAndSuper(klass) {\n      let proto = klass.prototype;\n      let superCtor = Object.getPrototypeOf(proto).constructor;\n      if (superCtor.prototype instanceof PolymerElement) {\n        superCtor.finalize();\n      }\n      finalizeClass(klass);\n    }\n\n    /**\n     * Configures a `klass` based on a staic `klass.config` object and\n     * a `template`. This includes creating accessors and effects\n     * for properties in `config` and the `template` as well as preparing the\n     * `template` for stamping.\n     *\n     * @param {HTMLElement} klass Element class\n     * @private\n     */\n    function finalizeClass(klass) {\n      klass.__finalized = true;\n      let proto = klass.prototype;\n      if (klass.hasOwnProperty(\n        JSCompiler_renameProperty('is', klass)) && klass.is) {\n        Polymer.telemetry.register(proto);\n      }\n      let props = ownPropertiesForClass(klass);\n      if (props) {\n        finalizeProperties(proto, props);\n      }\n      let observers = ownObserversForClass(klass);\n      if (observers) {\n        finalizeObservers(proto, observers, props);\n      }\n      // note: create \"working\" template that is finalized at instance time\n      let template = klass.template;\n      if (template) {\n        if (typeof template === 'string') {\n          let t = document.createElement('template');\n          t.innerHTML = template;\n          template = t;\n        } else {\n          template = template.cloneNode(true);\n        }\n        proto._template = template;\n      }\n    }\n\n    /**\n     * Configures a `proto` based on a `properties` object.\n     * Leverages `PropertyEffects` to create property accessors and effects\n     * supporting, observers, reflecting to attributes, change notification,\n     * computed properties, and read only properties.\n     * @param {HTMLElement} proto Element class prototype to add accessors\n     *    and effects to\n     * @param {Object} properties Flattened bag of property descriptors for\n     *    this class\n     * @private\n     */\n    function finalizeProperties(proto, properties) {\n      for (let p in properties) {\n        createPropertyFromConfig(proto, p, properties[p], properties);\n      }\n    }\n\n    /**\n     * Configures a `proto` based on a `observers` array.\n     * Leverages `PropertyEffects` to create observers.\n     * @param {HTMLElement} proto Element class prototype to add accessors\n     *   and effects to\n     * @param {Object} observers Flattened array of observer descriptors for\n     *   this class\n     * @param {Object} dynamicFns Object containing keys for any properties\n     *   that are functions and should trigger the effect when the function\n     *   reference is changed\n     * @private\n     */\n    function finalizeObservers(proto, observers, dynamicFns) {\n      for (let i=0; i < observers.length; i++) {\n        proto._createMethodObserver(observers[i], dynamicFns);\n      }\n    }\n\n    /**\n     * Creates effects for a property.\n     *\n     * Note, once a property has been set to\n     * `readOnly`, `computed`, `reflectToAttribute`, or `notify`\n     * these values may not be changed. For example, a subclass cannot\n     * alter these settings. However, additional `observers` may be added\n     * by subclasses.\n     *\n     * The info object should may contain property metadata as follows:\n     *\n     * * `type`: {function} type to which an attribute matching the property\n     * is deserialized. Note the property is camel-cased from a dash-cased\n     * attribute. For example, 'foo-bar' attribute is dersialized to a\n     * property named 'fooBar'.\n     *\n     * * `readOnly`: {boolean} creates a readOnly property and\n     * makes a private setter for the private of the form '_setFoo' for a\n     * property 'foo',\n     *\n     * * `computed`: {string} creates a computed property. A computed property\n     * also automatically is set to `readOnly: true`. The value is calculated\n     * by running a method and arguments parsed from the given string. For\n     * example 'compute(foo)' will compute a given property when the\n     * 'foo' property changes by executing the 'compute' method. This method\n     * must return the computed value.\n     *\n     * * `reflectToAttriute`: {boolean} If true, the property value is reflected\n     * to an attribute of the same name. Note, the attribute is dash-cased\n     * so a property named 'fooBar' is reflected as 'foo-bar'.\n     *\n     * * `notify`: {boolean} sends a non-bubbling notification event when\n     * the property changes. For example, a property named 'foo' sends an\n     * event named 'foo-changed' with `event.detail` set to the value of\n     * the property.\n     *\n     * * observer: {string} name of a method that runs when the property\n     * changes. The arguments of the method are (value, previousValue).\n     *\n     * Note: Users may want control over modifying property\n     * effects via subclassing. For example, a user might want to make a\n     * reflectToAttribute property not do so in a subclass. We've chosen to\n     * disable this because it leads to additional complication.\n     * For example, a readOnly effect generates a special setter. If a subclass\n     * disables the effect, the setter would fail unexpectedly.\n     * Based on feedback, we may want to try to make effects more malleable\n     * and/or provide an advanced api for manipulating them.\n     * Also consider adding warnings when an effect cannot be changed.\n     *\n     * @param {HTMLElement} proto Element class prototype to add accessors\n     *   and effects to\n     * @param {string} name Name of the property.\n     * @param {Object} info Info object from which to create property effects.\n     * Supported keys:\n     * @param {Object} allProps Flattened map of all properties defined in this\n     *   element (including inherited properties)\n     * @private\n     */\n    function createPropertyFromConfig(proto, name, info, allProps) {\n      // computed forces readOnly...\n      if (info.computed) {\n        info.readOnly = true;\n      }\n      // Note, since all computed properties are readOnly, this prevents\n      // adding additional computed property effects (which leads to a confusing\n      // setup where multiple triggers for setting a property)\n      // While we do have `hasComputedEffect` this is set on the property's\n      // dependencies rather than itself.\n      if (info.computed  && !proto._hasReadOnlyEffect(name)) {\n        proto._createComputedProperty(name, info.computed, allProps);\n      }\n      if (info.readOnly && !proto._hasReadOnlyEffect(name)) {\n        proto._createReadOnlyProperty(name, !info.computed);\n      }\n      if (info.reflectToAttribute && !proto._hasReflectEffect(name)) {\n        proto._createReflectedProperty(name);\n      }\n      if (info.notify && !proto._hasNotifyEffect(name)) {\n        proto._createNotifyingProperty(name);\n      }\n      // always add observer\n      if (info.observer) {\n        proto._createPropertyObserver(name, info.observer, allProps[info.observer]);\n      }\n    }\n\n    /**\n     * Configures an element `proto` to function with a given `template`.\n     * The element name `is` and extends `ext` must be specified for ShadyCSS\n     * style scoping.\n     *\n     * @param {HTMLElement} proto Element class prototype to add accessors\n     *   and effects to\n     * @param {HTMLTemplateElement} template Template to process and bind\n     * @param {string} baseURI URL against which to resolve urls in\n     *   style element cssText\n     * @param {string} is Tag name (or type extension name) for this element\n     * @param {string=} ext For type extensions, the tag name that was extended\n     * @private\n     */\n    function finalizeTemplate(proto, template, baseURI, is, ext) {\n      // support `include=\"module-name\"`\n      let cssText =\n        Polymer.StyleGather.cssFromTemplate(template, baseURI) +\n        Polymer.StyleGather.cssFromModuleImports(is);\n      if (cssText) {\n        let style = document.createElement('style');\n        style.textContent = cssText;\n        template.content.insertBefore(style, template.content.firstChild);\n      }\n      if (window.ShadyCSS) {\n        window.ShadyCSS.prepareTemplate(template, is, ext);\n      }\n      proto._bindTemplate(template);\n    }\n\n    /**\n     * @polymerMixinClass\n     * @unrestricted\n     * @implements {Polymer_ElementMixin}\n     */\n    class PolymerElement extends polymerElementBase {\n\n      /**\n       * Standard Custom Elements V1 API.  The default implementation returns\n       * a list of dash-cased attributes based on a flattening of all properties\n       * declared in `static get properties()` for this element and any\n       * superclasses.\n       *\n       * @return {Array} Observed attribute list\n       */\n      static get observedAttributes() {\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes', this))) {\n          let list = [];\n          let properties = propertiesForClass(this);\n          for (let prop in properties) {\n            list.push(Polymer.CaseMap.camelToDashCase(prop));\n          }\n          this.__observedAttributes = list;\n        }\n        return this.__observedAttributes;\n      }\n\n      /**\n       * Called automatically when the first element instance is created to\n       * ensure that class finalization work has been completed.\n       * May be called by users to eagerly perform class finalization work\n       * prior to the creation of the first element instance.\n       *\n       * Class finalization work generally includes meta-programming such as\n       * creating property accessors and any property effect metadata needed for\n       * the features used.\n       *\n       * @public\n       */\n      static finalize() {\n        if (!hasClassFinalized(this)) {\n          finalizeClassAndSuper(this);\n        }\n      }\n\n      /**\n       * Returns the template that will be stamped into this element's shadow root.\n       *\n       * If a `static get is()` getter is defined, the default implementation\n       * will return the first `<template>` in a `dom-module` whose `id`\n       * matches this element's `is`.\n       *\n       * Users may override this getter to return an arbitrary template\n       * (in which case the `is` getter is unnecessary). The template returned\n       * may be either an `HTMLTemplateElement` or a string that will be\n       * automatically parsed into a template.\n       *\n       * Note that when subclassing, if the super class overrode the default\n       * implementation and the subclass would like to provide an alternate\n       * template via a `dom-module`, it should override this getter and\n       * return `Polymer.DomModule.import(this.is, 'template')`.\n       *\n       * If a subclass would like to modify the super class template, it should\n       * clone it rather than modify it in place.  If the getter does expensive\n       * work such as cloning/modifying a template, it should memoize the\n       * template for maximum performance:\n       *\n       *   let memoizedTemplate;\n       *   class MySubClass extends MySuperClass {\n       *     static get template() {\n       *       if (!memoizedTemplate) {\n       *         memoizedTemplate = super.template.cloneNode(true);\n       *         let subContent = document.createElement('div');\n       *         subContent.textContent = 'This came from MySubClass';\n       *         memoizedTemplate.content.appendChild(subContent);\n       *       }\n       *       return memoizedTemplate;\n       *     }\n       *   }\n       *\n       * @return {HTMLTemplateElement|string} Template to be stamped\n       */\n      static get template() {\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_template', this))) {\n          this._template = Polymer.DomModule.import(this.is, 'template') ||\n            // note: implemented so a subclass can retrieve the super\n            // template; call the super impl this way so that `this` points\n            // to the superclass.\n            Object.getPrototypeOf(this.prototype).constructor.template;\n        }\n        return this._template;\n      }\n\n      /**\n       * Path matching the url from which the element was imported.\n       * This path is used to resolve url's in template style cssText.\n       * The `importPath` property is also set on element instances and can be\n       * used to create bindings relative to the import path.\n       * Defaults to the path matching the url containing a `dom-module` element\n       * matching this element's static `is` property.\n       * Note, this path should contain a trailing `/`.\n       *\n       * @return {string} The import path for this element class\n       */\n      static get importPath() {\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_importPath', this))) {\n            const module = Polymer.DomModule.import(this.is);\n            this._importPath = module ? module.assetpath : '' ||\n            Object.getPrototypeOf(this.prototype).constructor.importPath;\n        }\n        return this._importPath;\n      }\n\n      /**\n       * Overrides the default `Polymer.PropertyAccessors` to ensure class\n       * metaprogramming related to property accessors and effects has\n       * completed (calls `finalize`).\n       *\n       * It also initializes any property defaults provided via `value` in\n       * `properties` metadata.\n       *\n       * @override\n       */\n      _initializeProperties() {\n        Polymer.telemetry.instanceCount++;\n        this.constructor.finalize();\n        const importPath = this.constructor.importPath;\n        // note: finalize template when we have access to `localName` to\n        // avoid dependence on `is` for polyfilling styling.\n        if (this._template && !this._template.__polymerFinalized) {\n          this._template.__polymerFinalized = true;\n          const baseURI =\n            importPath ? Polymer.ResolveUrl.resolveUrl(importPath) : '';\n          finalizeTemplate(this.__proto__, this._template, baseURI,\n            this.localName);\n        }\n        super._initializeProperties();\n        // set path defaults\n        this.rootPath = Polymer.rootPath;\n        this.importPath = importPath;\n        // apply property defaults...\n        let p$ = propertyDefaultsForClass(this.constructor);\n        if (!p$) {\n          return;\n        }\n        for (let p in p$) {\n          let info = p$[p];\n          // Don't set default value if there is already an own property, which\n          // happens when a `properties` property with default but no effects had\n          // a property set (e.g. bound) by its host before upgrade\n          if (!this.hasOwnProperty(p)) {\n            let value = typeof info.value == 'function' ?\n              info.value.call(this) :\n              info.value;\n            // Set via `_setProperty` if there is an accessor, to enable\n            // initializing readOnly property defaults\n            if (this._hasAccessor(p)) {\n              this._setPendingProperty(p, value, true);\n            } else {\n              this[p] = value;\n            }\n          }\n        }\n      }\n\n      /**\n       * Provides a default implementation of the standard Custom Elements\n       * `connectedCallback`.\n       *\n       * The default implementation enables the property effects system and\n       * flushes any pending properties, and updates shimmed CSS properties\n       * when using the ShadyCSS scoping/custom properties polyfill.\n       *\n       * @override\n       */\n      connectedCallback() {\n        if (window.ShadyCSS && this._template) {\n          window.ShadyCSS.styleElement(this);\n        }\n        this._enableProperties();\n      }\n\n      /**\n       * Provides a default implementation of the standard Custom Elements\n       * `disconnectedCallback`.\n       *\n       * @override\n       */\n      disconnectedCallback() {}\n\n      /**\n       * Stamps the element template.\n       *\n       * @override\n       */\n      ready() {\n        if (this._template) {\n          this.root = this._stampTemplate(this._template);\n          this.$ = this.root.$;\n        }\n        super.ready();\n      }\n\n      /**\n       * Implements `PropertyEffects`'s `_readyClients` call. Attaches\n       * element dom by calling `_attachDom` with the dom stamped from the\n       * element's template via `_stampTemplate`. Note that this allows\n       * client dom to be attached to the element prior to any observers\n       * running.\n       *\n       * @override\n       */\n      _readyClients() {\n        if (this._template) {\n          this.root = this._attachDom(this.root);\n        }\n        // The super._readyClients here sets the clients initialized flag.\n        // We must wait to do this until after client dom is created/attached\n        // so that this flag can be checked to prevent notifications fired\n        // during this process from being handled before clients are ready.\n        super._readyClients();\n      }\n\n\n      /**\n       * Attaches an element's stamped dom to itself. By default,\n       * this method creates a `shadowRoot` and adds the dom to it.\n       * However, this method may be overridden to allow an element\n       * to put its dom in another location.\n       *\n       * @throws {Error}\n       * @suppress {missingReturn}\n       * @param {NodeList} dom to attach to the element.\n       * @return {Node} node to which the dom has been attached.\n       */\n      _attachDom(dom) {\n        if (this.attachShadow) {\n          if (dom) {\n            if (!this.shadowRoot) {\n              this.attachShadow({mode: 'open'});\n            }\n            this.shadowRoot.appendChild(dom);\n            return this.shadowRoot;\n          }\n        } else {\n          throw new Error('ShadowDOM not available. ' +\n            // TODO(sorvell): move to compile-time conditional when supported\n          'Polymer.Element can create dom as children instead of in ' +\n          'ShadowDOM by setting `this.root = this;\\` before \\`ready\\`.');\n        }\n      }\n\n      /**\n       * Provides a default implementation of the standard Custom Elements\n       * `attributeChangedCallback`.\n       *\n       * By default, attributes declared in `properties` metadata are\n       * deserialized using their `type` information to properties of the\n       * same name.  \"Dash-cased\" attributes are deserialzed to \"camelCase\"\n       * properties.\n       *\n       * @override\n       */\n      attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n          let property = caseMap.dashToCamelCase(name);\n          let type = propertiesForClass(this.constructor)[property].type;\n          if (!this._hasReadOnlyEffect(property)) {\n            this._attributeToProperty(name, value, type);\n          }\n        }\n      }\n\n      /**\n       * When using the ShadyCSS scoping and custom property shim, causes all\n       * shimmed styles in this element (and its subtree) to be updated\n       * based on current custom property values.\n       *\n       * The optional parameter overrides inline custom property styles with an\n       * object of properties where the keys are CSS properties, and the values\n       * are strings.\n       *\n       * Example: `this.updateStyles({'--color': 'blue'})`\n       *\n       * These properties are retained unless a value of `null` is set.\n       *\n       * @param {Object=} properties Bag of custom property key/values to\n       *   apply to this element.\n       */\n      updateStyles(properties) {\n        if (window.ShadyCSS) {\n          window.ShadyCSS.styleSubtree(this, properties);\n        }\n      }\n\n      /**\n       * Rewrites a given URL relative to a base URL. The base URL defaults to\n       * the original location of the document containing the `dom-module` for\n       * this element. This method will return the same URL before and after\n       * bundling.\n       *\n       * @param {string} url URL to resolve.\n       * @param {string=} base Optional base URL to resolve against, defaults\n       * to the element's `importPath`\n       * @return {string} Rewritten URL relative to base\n       */\n      resolveUrl(url, base) {\n        if (!base && this.importPath) {\n          base = Polymer.ResolveUrl.resolveUrl(this.importPath);\n        }\n        return Polymer.ResolveUrl.resolveUrl(url, base);\n      }\n\n      /**\n       * Overrides `PropertyAccessors` to add map of dynamic functions on\n       * template info, for consumption by `PropertyEffects` template binding\n       * code. This map determines which method templates should have accessors\n       * created for them.\n       *\n       * @override\n       */\n      static _parseTemplateContent(template, templateInfo, nodeInfo) {\n        templateInfo.dynamicFns = templateInfo.dynamicFns || propertiesForClass(this);\n        return super._parseTemplateContent(template, templateInfo, nodeInfo);\n      }\n\n    }\n\n    return PolymerElement;\n  });\n\n  /**\n   * Provides basic tracking of element definitions (registrations) and\n   * instance counts.\n   *\n   * @namespace\n   * @summary Provides basic tracking of element definitions (registrations) and\n   * instance counts.\n   */\n  Polymer.telemetry = {\n    /**\n     * Total number of Polymer element instances created.\n     * @type {number}\n     */\n    instanceCount: 0,\n    /**\n     * Array of Polymer element classes that have been finalized.\n     * @type {Array<Polymer.Element>}\n     */\n    registrations: [],\n    /**\n     * @param {HTMLElement} prototype Element prototype to log\n     * @private\n     */\n    _regLog: function(prototype) {\n      console.log('[' + prototype.is + ']: registered')\n    },\n    /**\n     * Registers a class prototype for telemetry purposes.\n     * @param {HTMLElement} prototype Element prototype to register\n     * @protected\n     */\n    register: function(prototype) {\n      this.registrations.push(prototype);\n      Polymer.log && this._regLog(prototype);\n    },\n    /**\n     * Logs all elements registered with an `is` to the console.\n     * @public\n     */\n    dumpRegistrations: function() {\n      this.registrations.forEach(this._regLog);\n    }\n  };\n\n  /**\n   * When using the ShadyCSS scoping and custom property shim, causes all\n   * shimmed `styles` (via `custom-style`) in the document (and its subtree)\n   * to be updated based on current custom property values.\n   *\n   * The optional parameter overrides inline custom property styles with an\n   * object of properties where the keys are CSS properties, and the values\n   * are strings.\n   *\n   * Example: `Polymer.updateStyles({'--color': 'blue'})`\n   *\n   * These properties are retained unless a value of `null` is set.\n   *\n   * @param {Object=} props Bag of custom property key/values to\n   *   apply to the document.\n   */\n  Polymer.updateStyles = function(props) {\n    if (window.ShadyCSS) {\n      window.ShadyCSS.styleDocument(props);\n    }\n  };\n\n  /**\n   * Globally settable property that is automatically assigned to\n   * `Polymer.ElementMixin` instances, useful for binding in templates to\n   * make URL's relative to an application's root.  Defaults to the main\n   * document URL, but can be overridden by users.  It may be useful to set\n   * `Polymer.rootPath` to provide a stable application mount path when\n   * using client side routing.\n   *\n   * @memberof Polymer\n   */\n  Polymer.rootPath = Polymer.rootPath ||\n    Polymer.ResolveUrl.pathFromUrl(document.baseURI || window.location.href);\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/mixins/element-mixin.html","/*__wc__loader*/\nrequire('../utils/boot.html');\n\nrequire('../utils/mixin.html');\n\nrequire('../utils/case-map.html');\n\nrequire('../utils/async.html');\n\n\n(function() {\n\n  'use strict';\n\n  let caseMap = Polymer.CaseMap;\n\n  let microtask = Polymer.Async.microTask;\n\n  // Save map of native properties; this forms a blacklist or properties\n  // that won't have their values \"saved\" by `saveAccessorValue`, since\n  // reading from an HTMLElement accessor from the context of a prototype throws\n  const nativeProperties = {};\n  let proto = HTMLElement.prototype;\n  while (proto) {\n    let props = Object.getOwnPropertyNames(proto);\n    for (let i=0; i<props.length; i++) {\n      nativeProperties[props[i]] = true;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  /**\n   * Used to save the value of a property that will be overridden with\n   * an accessor. If the `model` is a prototype, the values will be saved\n   * in `__dataProto`, and it's up to the user (or downstream mixin) to\n   * decide how/when to set these values back into the accessors.\n   * If `model` is already an instance (it has a `__data` property), then\n   * the value will be set as a pending property, meaning the user should\n   * call `_invalidateProperties` or `_flushProperties` to take effect\n   *\n   * @param {Object} model Prototype or instance\n   * @param {string} property Name of property\n   * @private\n   */\n  function saveAccessorValue(model, property) {\n    // Don't read/store value for any native properties since they could throw\n    if (!nativeProperties[property]) {\n      let value = model[property];\n      if (value !== undefined) {\n        if (model.__data) {\n          // Adding accessor to instance; update the property\n          // It is the user's responsibility to call _flushProperties\n          model._setPendingProperty(property, value);\n        } else {\n          // Adding accessor to proto; save proto's value for instance-time use\n          if (!model.__dataProto) {\n            model.__dataProto = {};\n          } else if (!model.hasOwnProperty(JSCompiler_renameProperty('__dataProto', model))) {\n            model.__dataProto = Object.create(model.__dataProto);\n          }\n          model.__dataProto[property] = value;\n        }\n      }\n    }\n  }\n\n  /**\n   * Element class mixin that provides basic meta-programming for creating one\n   * or more property accessors (getter/setter pair) that enqueue an async\n   * (batched) `_propertiesChanged` callback.\n   *\n   * For basic usage of this mixin, simply declare attributes to observe via\n   * the standard `static get observedAttributes()`, implement `_propertiesChanged`\n   * on the class, and then call `MyClass.createPropertiesForAttributes()` once\n   * on the class to generate property accessors for each observed attribute\n   * prior to instancing.  Last, call `this._flushProperties()` once to enable\n   * the accessors.\n   *\n   * Any `observedAttributes` will automatically be\n   * deserialized via `attributeChangedCallback` and set to the associated\n   * property using `dash-case`-to-`camelCase` convention.\n   *\n   * @polymerMixin\n   * @memberof Polymer\n   * @summary Element class mixin for reacting to property changes from\n   *   generated property accessors.\n   */\n  Polymer.PropertyAccessors = Polymer.dedupingMixin(superClass => {\n\n    /**\n     * @polymerMixinClass\n     * @implements {Polymer_PropertyAccessors}\n     * @unrestricted\n     */\n    class PropertyAccessors extends superClass {\n\n      /**\n       * Generates property accessors for all attributes in the standard\n       * static `observedAttributes` array.\n       *\n       * Attribute names are mapped to property names using the `dash-case` to\n       * `camelCase` convention\n       *\n       */\n      static createPropertiesForAttributes() {\n        let a$ = this.observedAttributes;\n        for (let i=0; i < a$.length; i++) {\n          this.prototype._createPropertyAccessor(caseMap.dashToCamelCase(a$[i]));\n        }\n      }\n\n      constructor() {\n        super();\n        this._initializeProperties();\n      }\n\n      attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n          this._attributeToProperty(name, value);\n        }\n      }\n\n      /**\n       * Initializes the local storage for property accessors.\n       *\n       * Provided as an override point for performing any setup work prior\n       * to initializing the property accessor system.\n       *\n       * @protected\n       */\n      _initializeProperties() {\n        this.__serializing = false;\n        this.__dataCounter = 0;\n        this.__dataEnabled = false;\n        this.__dataInitialized = false;\n        this.__dataInvalid = false;\n        // initialize data with prototype values saved when creating accessors\n        this.__data = {};\n        this.__dataPending = null;\n        this.__dataOld = null;\n        if (this.__dataProto) {\n          this._initializeProtoProperties(this.__dataProto);\n          this.__dataProto = null;\n        }\n        // Capture instance properties; these will be set into accessors\n        // during first flush. Don't set them here, since we want\n        // these to overwrite defaults/constructor assignments\n        for (let p in this.__dataHasAccessor) {\n          if (this.hasOwnProperty(p)) {\n            this.__dataInstanceProps = this.__dataInstanceProps || {};\n            this.__dataInstanceProps[p] = this[p];\n            delete this[p];\n          }\n        }\n      }\n\n      /**\n       * Called at instance time with bag of properties that were overwritten\n       * by accessors on the prototype when accessors were created.\n       *\n       * The default implementation sets these properties back into the\n       * setter at instance time.  This method is provided as an override\n       * point for customizing or providing more efficient initialization.\n       *\n       * @param {Object} props Bag of property values that were overwritten\n       *   when creating property accessors.\n       * @protected\n       */\n      _initializeProtoProperties(props) {\n        for (let p in props) {\n          this._setProperty(p, props[p]);\n        }\n      }\n\n      /**\n       * Called at ready time with bag of instance properties that overwrote\n       * accessors when the element upgraded.\n       *\n       * The default implementation sets these properties back into the\n       * setter at ready time.  This method is provided as an override\n       * point for customizing or providing more efficient initialization.\n       *\n       * @param {Object} props Bag of property values that were overwritten\n       *   when creating property accessors.\n       * @protected\n       */\n      _initializeInstanceProperties(props) {\n        Object.assign(this, props);\n      }\n\n      /**\n       * Ensures the element has the given attribute. If it does not,\n       * assigns the given value to the attribute.\n       *\n       *\n       * @param {string} attribute Name of attribute to ensure is set.\n       * @param {string} value of the attribute.\n       */\n      _ensureAttribute(attribute, value) {\n        if (!this.hasAttribute(attribute)) {\n          this._valueToNodeAttribute(this, value, attribute);\n        }\n      }\n\n      /**\n       * Deserializes an attribute to its associated property.\n       *\n       * This method calls the `_deserializeValue` method to convert the string to\n       * a typed value.\n       *\n       * @param {string} attribute Name of attribute to deserialize.\n       * @param {string} value of the attribute.\n       * @param {*} type type to deserialize to.\n       */\n      _attributeToProperty(attribute, value, type) {\n        // Don't deserialize back to property if currently reflecting\n        if (!this.__serializing) {\n          let property = caseMap.dashToCamelCase(attribute);\n          this[property] = this._deserializeValue(value, type);\n        }\n      }\n\n      /**\n       * Serializes a property to its associated attribute.\n       *\n       * @param {string} property Property name to reflect.\n       * @param {string=} attribute Attribute name to reflect.\n       * @param {*=} value Property value to refect.\n       */\n      _propertyToAttribute(property, attribute, value) {\n        this.__serializing = true;\n        value = (arguments.length < 3) ? this[property] : value;\n        this._valueToNodeAttribute(this, value,\n          attribute || caseMap.camelToDashCase(property));\n        this.__serializing = false;\n      }\n\n      /**\n       * Sets a typed value to an HTML attribute on a node.\n       *\n       * This method calls the `_serializeValue` method to convert the typed\n       * value to a string.  If the `_serializeValue` method returns `undefined`,\n       * the attribute will be removed (this is the default for boolean\n       * type `false`).\n       *\n       * @param {Element} node Element to set attribute to.\n       * @param {*} value Value to serialize.\n       * @param {string} attribute Attribute name to serialize to.\n       */\n      _valueToNodeAttribute(node, value, attribute) {\n        let str = this._serializeValue(value);\n        if (str === undefined) {\n          node.removeAttribute(attribute);\n        } else {\n          node.setAttribute(attribute, str);\n        }\n      }\n\n      /**\n       * Converts a typed JavaScript value to a string.\n       *\n       * This method is called by Polymer when setting JS property values to\n       * HTML attributes.  Users may override this method on Polymer element\n       * prototypes to provide serialization for custom types.\n       *\n       * @param {*} value Property value to serialize.\n       * @return {string | undefined} String serialized from the provided property value.\n       */\n      _serializeValue(value) {\n        /* eslint-disable no-fallthrough */\n        switch (typeof value) {\n          case 'boolean':\n            return value ? '' : undefined;\n\n          case 'object':\n            if (value instanceof Date) {\n              return value.toString();\n            } else if (value) {\n              try {\n                return JSON.stringify(value);\n              } catch(x) {\n                return '';\n              }\n            }\n\n          default:\n            return value != null ? value.toString() : undefined;\n        }\n      }\n\n      /**\n       * Converts a string to a typed JavaScript value.\n       *\n       * This method is called by Polymer when reading HTML attribute values to\n       * JS properties.  Users may override this method on Polymer element\n       * prototypes to provide deserialization for custom `type`s.  Note,\n       * the `type` argument is the value of the `type` field provided in the\n       * `properties` configuration object for a given property, and is\n       * by convention the constructor for the type to deserialize.\n       *\n       * Note: The return value of `undefined` is used as a sentinel value to\n       * indicate the attribute should be removed.\n       *\n       * @param {string} value Attribute value to deserialize.\n       * @param {*} type Type to deserialize the string to.\n       * @return {*} Typed value deserialized from the provided string.\n       */\n      _deserializeValue(value, type) {\n        /**\n         * @type {*}\n         */\n        let outValue;\n        switch (type) {\n          case Number:\n            outValue = Number(value);\n            break;\n\n          case Boolean:\n            outValue = (value !== null);\n            break;\n\n          case Object:\n            try {\n              outValue = JSON.parse(value);\n            } catch(x) {\n              // allow non-JSON literals like Strings and Numbers\n            }\n            break;\n\n          case Array:\n            try {\n              outValue = JSON.parse(value);\n            } catch(x) {\n              outValue = null;\n              console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`);\n            }\n            break;\n\n          case Date:\n            outValue = new Date(value);\n            break;\n\n          case String:\n          default:\n            outValue = value;\n            break;\n        }\n\n        return outValue;\n      }\n      /* eslint-enable no-fallthrough */\n\n      /**\n       * Creates a setter/getter pair for the named property with its own\n       * local storage.  The getter returns the value in the local storage,\n       * and the setter calls `_setProperty`, which updates the local storage\n       * for the property and enqueues a `_propertiesChanged` callback.\n       *\n       * This method may be called on a prototype or an instance.  Calling\n       * this method may overwrite a property value that already exists on\n       * the prototype/instance by creating the accessor.  When calling on\n       * a prototype, any overwritten values are saved in `__dataProto`,\n       * and it is up to the subclasser to decide how/when to set those\n       * properties back into the accessor.  When calling on an instance,\n       * the overwritten value is set via `_setPendingProperty`, and the\n       * user should call `_invalidateProperties` or `_flushProperties`\n       * for the values to take effect.\n       *\n       * @param {string} property Name of the property\n       * @param {boolean=} readOnly When true, no setter is created; the\n       *   protected `_setProperty` function must be used to set the property\n       * @protected\n       */\n      _createPropertyAccessor(property, readOnly) {\n        if (!this.hasOwnProperty('__dataHasAccessor')) {\n          this.__dataHasAccessor = Object.assign({}, this.__dataHasAccessor);\n        }\n        if (!this.__dataHasAccessor[property]) {\n          this.__dataHasAccessor[property] = true;\n          saveAccessorValue(this, property);\n          Object.defineProperty(this, property, {\n            get: function() {\n              return this.__data[property];\n            },\n            set: readOnly ? function() { } : function(value) {\n              this._setProperty(property, value);\n            }\n          });\n        }\n      }\n\n      /**\n       * Returns true if this library created an accessor for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if an accessor was created\n       */\n      _hasAccessor(property) {\n        return this.__dataHasAccessor && this.__dataHasAccessor[property];\n      }\n\n      /**\n       * Updates the local storage for a property (via `_setPendingProperty`)\n       * and enqueues a `_proeprtiesChanged` callback.\n       *\n       * @param {string} property Name of the property\n       * @param {*} value Value to set\n       * @protected\n       */\n      _setProperty(property, value) {\n        if (this._setPendingProperty(property, value)) {\n          this._invalidateProperties();\n        }\n      }\n\n      /**\n       * Updates the local storage for a property, records the previous value,\n       * and adds it to the set of \"pending changes\" that will be passed to the\n       * `_propertiesChanged` callback.  This method does not enqueue the\n       * `_propertiesChanged` callback.\n       *\n       * @param {string} property Name of the property\n       * @param {*} value Value to set\n       * @return {boolean} Returns true if the property changed\n       * @protected\n       */\n      _setPendingProperty(property, value) {\n        let old = this.__data[property];\n        if (this._shouldPropertyChange(property, value, old)) {\n          if (!this.__dataPending) {\n            this.__dataPending = {};\n            this.__dataOld = {};\n          }\n          // Ensure old is captured from the last turn\n          if (!(property in this.__dataOld)) {\n            this.__dataOld[property] = old;\n          }\n          this.__data[property] = value;\n          this.__dataPending[property] = value;\n          return true;\n        }\n      }\n\n      /**\n       * Returns true if the specified property has a pending change.\n       *\n       * @param {string} prop Property name\n       * @return {boolean} True if property has a pending change\n       * @protected\n       */\n      _isPropertyPending(prop) {\n        return this.__dataPending && (prop in this.__dataPending);\n      }\n\n      /**\n       * Marks the properties as invalid, and enqueues an async\n       * `_propertiesChanged` callback.\n       *\n       * @protected\n       */\n      _invalidateProperties() {\n        if (!this.__dataInvalid && this.__dataInitialized) {\n          this.__dataInvalid = true;\n          microtask.run(() => {\n            if (this.__dataInvalid) {\n              this.__dataInvalid = false;\n              this._flushProperties();\n            }\n          });\n        }\n      }\n\n      /**\n       * Call to enable property accessor processing. Before this method is\n       * called accessor values will be set but side effects are\n       * queued. When called, any pending side effects occur immediately.\n       * For elements, generally `connectedCallback` is a normal spot to do so.\n       * It is safe to call this method multiple times as it only turns on\n       * property accessors once.\n       */\n      _enableProperties() {\n        if (!this.__dataEnabled) {\n          this.__dataEnabled = true;\n          if (this.__dataInstanceProps) {\n            this._initializeInstanceProperties(this.__dataInstanceProps);\n            this.__dataInstanceProps = null;\n          }\n          this.ready()\n        }\n      }\n\n      /**\n       * Calls the `_propertiesChanged` callback with the current set of\n       * pending changes (and old values recorded when pending changes were\n       * set), and resets the pending set of changes. Generally, this method\n       * should not be called in user code.\n       *\n       *\n       * @protected\n       */\n      _flushProperties() {\n        if (this.__dataPending) {\n          let changedProps = this.__dataPending;\n          this.__dataPending = null;\n          this.__dataCounter++;\n          this._propertiesChanged(this.__data, changedProps, this.__dataOld);\n          this.__dataCounter--;\n        }\n      }\n\n      /**\n       * Lifecycle callback called the first time properties are being flushed.\n       * Prior to `ready`, all property sets through accessors are queued and\n       * their effects are flushed after this method returns.\n       *\n       * Users may override this function to implement behavior that is\n       * dependent on the element having its properties initialized, e.g.\n       * from defaults (initialized from `constructor`, `_initializeProperties`),\n       * `attributeChangedCallback`, or values propagated from host e.g. via\n       * bindings.  `super.ready()` must be called to ensure the data system\n       * becomes enabled.\n       *\n       * @public\n       */\n      ready() {\n        this.__dataInitialized = true;\n        // Run normal flush\n        this._flushProperties();\n      }\n\n      /**\n       * Callback called when any properties with accessors created via\n       * `_createPropertyAccessor` have been set.\n       *\n       * @param {Object} currentProps Bag of all current accessor values\n       * @param {Object} changedProps Bag of properties changed since the last\n       *   call to `_propertiesChanged`\n       * @param {Object} oldProps Bag of previous values for each property\n       *   in `changedProps`\n       * @protected\n       */\n      _propertiesChanged(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n      }\n\n      /**\n       * Method called to determine whether a property value should be\n       * considered as a change and cause the `_propertiesChanged` callback\n       * to be enqueued.\n       *\n       * The default implementation returns `true` for primitive types if a\n       * strict equality check fails, and returns `true` for all Object/Arrays.\n       * The method always returns false for `NaN`.\n       *\n       * Override this method to e.g. provide stricter checking for\n       * Objects/Arrays when using immutable patterns.\n       *\n       * @param {string} property Property name\n       * @param {*} value New property value\n       * @param {*} old Previous property value\n       * @return {boolean} Whether the property should be considered a change\n       *   and enqueue a `_proeprtiesChanged` callback\n       * @protected\n       */\n      _shouldPropertyChange(property, value, old) {\n        return (\n          // Strict equality check\n          (old !== value &&\n           // This ensures (old==NaN, value==NaN) always returns false\n           (old === old || value === value))\n        );\n      }\n\n    }\n\n    return PropertyAccessors;\n\n  });\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/mixins/property-accessors.html","/*__wc__loader*/\nrequire('../utils/boot.html');\n\nrequire('../utils/mixin.html');\n\nrequire('../utils/path.html');\n\nrequire('../utils/case-map.html');\n\nrequire('./property-accessors.html');\n\nrequire('./template-stamp.html');\n\n\n(function() {\n\n  'use strict';\n\n  /** @const {Object} */\n  const CaseMap = Polymer.CaseMap;\n\n  // Monotonically increasing unique ID used for de-duping effects triggered\n  // from multiple properties in the same turn\n  let dedupeId = 0;\n\n  // Property effect types; effects are stored on the prototype using these keys\n  const TYPES = {\n    COMPUTE: '__computeEffects',\n    REFLECT: '__reflectEffects',\n    NOTIFY: '__notifyEffects',\n    PROPAGATE: '__propagateEffects',\n    OBSERVE: '__observeEffects',\n    READ_ONLY: '__readOnly'\n  }\n\n  /**\n   * Ensures that the model has an own-property map of effects for the given type.\n   * The model may be a prototype or an instance.\n   *\n   * Property effects are stored as arrays of effects by property in a map,\n   * by named type on the model. e.g.\n   *\n   *   __computeEffects: {\n   *     foo: [ ... ],\n   *     bar: [ ... ]\n   *   }\n   *\n   * If the model does not yet have an effect map for the type, one is created\n   * and returned.  If it does, but it is not an own property (i.e. the\n   * prototype had effects), the the map is deeply cloned and the copy is\n   * set on the model and returned, ready for new effects to be added.\n   *\n   * @param {Object} model Prototype or instance\n   * @param {string} type Property effect type\n   * @return {Object} The own-property map of effects for the given type\n   * @private\n   */\n  function ensureOwnEffectMap(model, type) {\n    let effects = model[type];\n    if (!effects) {\n      effects = model[type] = {};\n    } else if (!model.hasOwnProperty(type)) {\n      effects = model[type] = Object.create(model[type]);\n      for (let p in effects) {\n        let protoFx = effects[p];\n        let instFx = effects[p] = Array(protoFx.length);\n        for (let i=0; i<protoFx.length; i++) {\n          instFx[i] = protoFx[i];\n        }\n      }\n    }\n    return effects;\n  }\n\n  // -- effects ----------------------------------------------\n\n  /**\n   * Runs all effects of a given type for the given set of property changes\n   * on an instance.\n   *\n   * @param {Object} inst The instance with effects to run\n   * @param {Object} effects Object map of property-to-Array of effects\n   * @param {Object} props Bag of current property changes\n   * @param {Object=} oldProps Bag of previous values for changed properties\n   * @param {boolean=} hasPaths True with `props` contains one or more paths\n   * @param {*=} extraArgs Additional metadata to pass to effect function\n   * @return {boolean} True if an effect ran for this property\n   * @private\n   */\n  function runEffects(inst, effects, props, oldProps, hasPaths, extraArgs) {\n    if (effects) {\n      let ran = false;\n      let id = dedupeId++;\n      for (let prop in props) {\n        if (runEffectsForProperty(inst, effects, id, prop, props, oldProps, hasPaths, extraArgs)) {\n          ran = true;\n        }\n      }\n      return ran;\n    }\n    return false;\n  }\n\n  /**\n   * Runs a list of effects for a given property.\n   *\n   * @param {Object} inst The instance with effects to run\n   * @param {Object} effects Object map of property-to-Array of effects\n   * @param {number} dedupeId Counter used for de-duping effects\n   * @param {string} prop Name of changed property\n   * @param {*} props Changed properties\n   * @param {*} oldProps Old properties\n   * @param {boolean=} hasPaths True with `props` contains one or more paths\n   * @param {*=} extraArgs Additional metadata to pass to effect function\n   * @return {boolean} True if an effect ran for this property\n   * @private\n   */\n  function runEffectsForProperty(inst, effects, dedupeId, prop, props, oldProps, hasPaths, extraArgs) {\n    let ran = false;\n    let rootProperty = hasPaths ? Polymer.Path.root(prop) : prop;\n    let fxs = effects[rootProperty];\n    if (fxs) {\n      for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n        if ((!fx.info || fx.info.lastRun !== dedupeId) &&\n            (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n          if (fx.info) {\n            fx.info.lastRun = dedupeId;\n          }\n          fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n          ran = true;\n        }\n      }\n    }\n    return ran;\n  }\n\n  /**\n   * Determines whether a property/path that has changed matches the trigger\n   * criteria for an effect.  A trigger is a descriptor with the following\n   * structure, which matches the descriptors returned from `parseArg`.\n   * e.g. for `foo.bar.*`:\n   * ```\n   * trigger: {\n   *   name: 'a.b',\n   *   structured: true,\n   *   wildcard: true\n   * }\n   * ```\n   * If no trigger is given, the path is deemed to match.\n   *\n   * @param {string} path Path or property that changed\n   * @param {Object} trigger Descriptor\n   * @return {boolean} Whether the path matched the trigger\n   */\n  function pathMatchesTrigger(path, trigger) {\n    if (trigger) {\n      let triggerPath = trigger.name;\n      return (triggerPath == path) ||\n        (trigger.structured && Polymer.Path.isAncestor(triggerPath, path)) ||\n        (trigger.wildcard && Polymer.Path.isDescendant(triggerPath, path));\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Implements the \"observer\" effect.\n   *\n   * Calls the method with `info.methodName` on the instance, passing the\n   * new and old values.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runObserverEffect(inst, property, props, oldProps, info) {\n    let fn = inst[info.methodName];\n    let changedProp = info.property;\n    if (fn) {\n      fn.call(inst, inst.__data[changedProp], oldProps[changedProp]);\n    } else if (!info.dynamicFn) {\n      console.warn('observer method `' + info.methodName + '` not defined');\n    }\n  }\n\n  /**\n   * Runs \"notify\" effects for a set of changed properties.\n   *\n   * This method differs from the generic `runEffects` method in that it\n   * will dispatch path notification events in the case that the property\n   * changed was a path and the root property for that path didn't have a\n   * \"notify\" effect.  This is to maintain 1.0 behavior that did not require\n   * `notify: true` to ensure object sub-property notifications were\n   * sent.\n   *\n   * @param {Element} inst The instance with effects to run\n   * @param {Object} notifyProps Bag of properties to notify\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {boolean} hasPaths True with `props` contains one or more paths\n   * @private\n   */\n  function runNotifyEffects(inst, notifyProps, props, oldProps, hasPaths) {\n    // Notify\n    let fxs = inst.__notifyEffects;\n    let notified;\n    let id = dedupeId++;\n    // Try normal notify effects; if none, fall back to try path notification\n    for (let prop in notifyProps) {\n      if (notifyProps[prop]) {\n        if (fxs && runEffectsForProperty(inst, fxs, id, prop, props, oldProps, hasPaths)) {\n          notified = true;\n        } else if (hasPaths && notifyPath(inst, prop, props)) {\n          notified = true;\n        }\n      }\n    }\n    // Flush host if we actually notified and host was batching\n    // And the host has already initialized clients; this prevents\n    // an issue with a host observing data changes before clients are ready.\n    let host;\n    if (notified && (host = inst.__dataHost) && host._invalidateProperties) {\n      host._invalidateProperties();\n    }\n  }\n\n  /**\n   * Dispatches {property}-changed events with path information in the detail\n   * object to indicate a sub-path of the property was changed.\n   *\n   * @param {Element} inst The element from which to fire the event\n   * @param {string} path The path that was changed\n   * @param {Object} props Bag of current property changes\n   * @return {boolean} Returns true if the path was notified\n   * @private\n   */\n  function notifyPath(inst, path, props) {\n    let rootProperty = Polymer.Path.root(path);\n    if (rootProperty !== path) {\n      let eventName = Polymer.CaseMap.camelToDashCase(rootProperty) + '-changed';\n      dispatchNotifyEvent(inst, eventName, props[path], path);\n      return true;\n    }\n  }\n\n  /**\n   * Dispatches {property}-changed events to indicate a property (or path)\n   * changed.\n   *\n   * @param {Element} inst The element from which to fire the event\n   * @param {string} eventName The name of the event to send ('{property}-changed')\n   * @param {*} value The value of the changed property\n   * @param {string | null | undefined} path If a sub-path of this property changed, the path\n   *   that changed (optional).\n   * @private\n   */\n  function dispatchNotifyEvent(inst, eventName, value, path) {\n    let detail = {\n      value: value,\n      queueProperty: true\n    };\n    if (path) {\n      detail.path = path;\n    }\n    inst.dispatchEvent(new CustomEvent(eventName, { detail }));\n  }\n\n  /**\n   * Implements the \"notify\" effect.\n   *\n   * Dispatches a non-bubbling event named `info.eventName` on the instance\n   * with a detail object containing the new `value`.\n   *\n   * @param {Element} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @param {boolean} hasPaths True with `props` contains one or more paths\n   * @private\n   */\n  function runNotifyEffect(inst, property, props, oldProps, info, hasPaths) {\n    let rootProperty = hasPaths ? Polymer.Path.root(property) : property;\n    let path = rootProperty != property ? property : null;\n    let value = path ? Polymer.Path.get(inst, path) : inst.__data[property];\n    if (path && value === undefined) {\n      value = props[property];  // specifically for .splices\n    }\n    dispatchNotifyEvent(inst, info.eventName, value, path);\n  }\n\n  /**\n   * Handler function for 2-way notification events. Receives context\n   * information captured in the `addNotifyListener` closure from the\n   * `__notifyListeners` metadata.\n   *\n   * Sets the value of the notified property to the host property or path.  If\n   * the event contained path information, translate that path to the host\n   * scope's name for that path first.\n   *\n   * @param {Event} event Notification event (e.g. '<property>-changed')\n   * @param {Object} inst Host element instance handling the notification event\n   * @param {string} fromProp Child element property that was bound\n   * @param {string} toPath Host property/path that was bound\n   * @param {boolean} negate Whether the binding was negated\n   * @private\n   */\n  function handleNotification(event, inst, fromProp, toPath, negate) {\n    let value;\n    let detail = event.detail;\n    let fromPath = detail && detail.path;\n    if (fromPath) {\n      toPath = Polymer.Path.translate(fromProp, toPath, fromPath);\n      value = detail && detail.value;\n    } else {\n      value = event.target[fromProp];\n    }\n    value = negate ? !value : value;\n    if (!inst.__readOnly || !inst.__readOnly[toPath]) {\n      if (inst._setPendingPropertyOrPath(toPath, value, true, Boolean(fromPath))\n        && (!detail || !detail.queueProperty)) {\n        inst._invalidateProperties();\n      }\n    }\n  }\n\n  /**\n   * Implements the \"reflect\" effect.\n   *\n   * Sets the attribute named `info.attrName` to the given property value.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runReflectEffect(inst, property, props, oldProps, info) {\n    let value = inst.__data[property];\n    if (Polymer.sanitizeDOMValue) {\n      value = Polymer.sanitizeDOMValue(value, info.attrName, 'attribute', inst);\n    }\n    inst._propertyToAttribute(property, info.attrName, value);\n  }\n\n  /**\n   * Runs \"computed\" effects for a set of changed properties.\n   *\n   * This method differs from the generic `runEffects` method in that it\n   * continues to run computed effects based on the output of each pass until\n   * there are no more newly computed properties.  This ensures that all\n   * properties that will be computed by the initial set of changes are\n   * computed before other effects (binding propagation, observers, and notify)\n   * run.\n   *\n   * @param {Element} inst The instance the effect will be run on\n   * @param {Object} changedProps Bag of changed properties\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {boolean} hasPaths True with `props` contains one or more paths\n   * @private\n   */\n  function runComputedEffects(inst, changedProps, oldProps, hasPaths) {\n    let computeEffects = inst.__computeEffects;\n    if (computeEffects) {\n      let inputProps = changedProps;\n      while (runEffects(inst, computeEffects, inputProps, oldProps, hasPaths)) {\n        Object.assign(oldProps, inst.__dataOld);\n        Object.assign(changedProps, inst.__dataPending);\n        inputProps = inst.__dataPending;\n        inst.__dataPending = null;\n      }\n    }\n  }\n\n  /**\n   * Implements the \"computed property\" effect by running the method with the\n   * values of the arguments specified in the `info` object and setting the\n   * return value to the computed property specified.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @private\n   */\n  function runComputedEffect(inst, property, props, oldProps, info) {\n    let result = runMethodEffect(inst, property, props, oldProps, info);\n    let computedProp = info.methodInfo;\n    if (inst.__dataHasAccessor && inst.__dataHasAccessor[computedProp]) {\n      inst._setPendingProperty(computedProp, result, true);\n    } else {\n      inst[computedProp] = result;\n    }\n  }\n\n  /**\n   * Computes path changes based on path links set up using the `linkPaths`\n   * API.\n   *\n   * @param {Element} inst The instance whose props are changing\n   * @param {string} path Path that has changed\n   * @param {*} value Value of changed path\n   * @private\n   */\n  function computeLinkedPaths(inst, path, value) {\n    let links = inst.__dataLinkedPaths;\n    if (links) {\n      let link;\n      for (let a in links) {\n        let b = links[a];\n        if (Polymer.Path.isDescendant(a, path)) {\n          link = Polymer.Path.translate(a, b, path);\n          inst._setPendingPropertyOrPath(link, value, true, true);\n        } else if (Polymer.Path.isDescendant(b, path)) {\n          link = Polymer.Path.translate(b, a, path);\n          inst._setPendingPropertyOrPath(link, value, true, true);\n        }\n      }\n    }\n  }\n\n  // -- bindings ----------------------------------------------\n\n  /**\n   * Adds binding metadata to the current `nodeInfo`, and binding effects\n   * for all part dependencies to `templateInfo`.\n   *\n   * @param {Function} constructor Class that `_parseTemplate` is currently\n   *   running on\n   * @param {Object} templateInfo Template metadata for current template\n   * @param {Object} nodeInfo Node metadata for current template node\n   * @param {string} kind Binding kind, either 'property', 'attribute', or 'text'\n   * @param {string} target Target property name\n   * @param {Array<Object>} parts Array of binding part metadata\n   * @param {string} literal Literal text surrounding binding parts (specified\n   *   only for 'property' bindings, since these must be initialized as part\n   *   of boot-up)\n   * @private\n   */\n  function addBinding(constructor, templateInfo, nodeInfo, kind, target, parts, literal) {\n    // Create binding metadata and add to nodeInfo\n    nodeInfo.bindings = nodeInfo.bindings || [];\n    let binding = { kind, target, parts, literal, isCompound: (parts.length !== 1) };\n    nodeInfo.bindings.push(binding);\n    // Add listener info to binding metadata\n    if (shouldAddListener(binding)) {\n      let {event, negate} = binding.parts[0];\n      binding.listenerEvent = event || (CaseMap.camelToDashCase(target) + '-changed');\n      binding.listenerNegate = negate;\n    }\n    // Add \"propagate\" property effects to templateInfo\n    let index = templateInfo.nodeInfoList.length;\n    for (let i=0; i<binding.parts.length; i++) {\n      let part = binding.parts[i];\n      part.compoundIndex = i;\n      addEffectForBindingPart(constructor, templateInfo, binding, part, index);\n    }\n  }\n\n  /**\n   * Adds property effects to the given `templateInfo` for the given binding\n   * part.\n   *\n   * @param {Function} constructor Class that `_parseTemplate` is currently\n   *   running on\n   * @param {Object} templateInfo Template metadata for current template\n   * @param {Object} binding Binding metadata\n   * @param {Object} part Binding part metadata\n   * @param {number} index Index into `nodeInfoList` for this node\n   */\n  function addEffectForBindingPart(constructor, templateInfo, binding, part, index) {\n    if (!part.literal) {\n      if (binding.kind === 'attribute' && binding.target[0] === '-') {\n        console.warn('Cannot set attribute ' + binding.target +\n          ' because \"-\" is not a valid attribute starting character');\n      } else {\n        let dependencies = part.dependencies;\n        let info = { index, binding, part, evaluator: constructor };\n        for (let j=0; j<dependencies.length; j++) {\n          let trigger = dependencies[j];\n          if (typeof trigger == 'string') {\n            trigger = parseArg(trigger);\n            trigger.wildcard = true;\n          }\n          constructor._addTemplatePropertyEffect(templateInfo, trigger.rootProperty, {\n            fn: runBindingEffect,\n            info, trigger\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * Implements the \"binding\" (property/path binding) effect.\n   *\n   * Note that binding syntax is overridable via `_parseBindings` and\n   * `_evaluateBindings`.  This method will call `_evaluateBinding` for any\n   * non-literal parts returned from `_parseBindings`.  However,\n   * there is no support for _path_ bindings via custom binding parts,\n   * as this is specific to Polymer's path binding syntax.\n   *\n   * @param {Element} inst The instance the effect will be run on\n   * @param {string} path Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @param {boolean} hasPaths True with `props` contains one or more paths\n   * @param {Array} nodeList List of nodes associated with `nodeInfoList` template\n   *   metadata\n   * @private\n   */\n  function runBindingEffect(inst, path, props, oldProps, info, hasPaths, nodeList) {\n    let node = nodeList[info.index];\n    let binding = info.binding;\n    let part = info.part;\n    // Subpath notification: transform path and set to client\n    // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n    if (hasPaths && part.source && (path.length > part.source.length) &&\n        (binding.kind == 'property') && !binding.isCompound &&\n        node.__dataHasAccessor && node.__dataHasAccessor[binding.target]) {\n      let value = props[path];\n      path = Polymer.Path.translate(part.source, binding.target, path);\n      if (node._setPendingPropertyOrPath(path, value, false, true)) {\n        inst._enqueueClient(node);\n      }\n    } else {\n      let value = info.evaluator._evaluateBinding(inst, part, path, props, oldProps, hasPaths);\n      // Propagate value to child\n      applyBindingValue(inst, node, binding, part, value);\n    }\n  }\n\n  /**\n   * Sets the value for an \"binding\" (binding) effect to a node,\n   * either as a property or attribute.\n   *\n   * @param {Object} inst The instance owning the binding effect\n   * @param {Node} node Target node for binding\n   * @param {Object} binding Binding metadata\n   * @param {Object} part Binding part metadata\n   * @param {*} value Value to set\n   * @private\n   */\n  function applyBindingValue(inst, node, binding, part, value) {\n    value = computeBindingValue(node, value, binding, part);\n    if (Polymer.sanitizeDOMValue) {\n      value = Polymer.sanitizeDOMValue(value, binding.target, binding.kind, node);\n    }\n    if (binding.kind == 'attribute') {\n      // Attribute binding\n      inst._valueToNodeAttribute(node, value, binding.target);\n    } else {\n      // Property binding\n      let prop = binding.target;\n      if (node.__dataHasAccessor && node.__dataHasAccessor[prop]) {\n        if (!node.__readOnly || !node.__readOnly[prop]) {\n          if (node._setPendingProperty(prop, value)) {\n            inst._enqueueClient(node);\n          }\n        }\n      } else  {\n        inst._setUnmanagedPropertyToNode(node, prop, value);\n      }\n    }\n  }\n\n  /**\n   * Transforms an \"binding\" effect value based on compound & negation\n   * effect metadata, as well as handling for special-case properties\n   *\n   * @param {Node} node Node the value will be set to\n   * @param {*} value Value to set\n   * @param {Object} binding Binding metadata\n   * @param {Object} part Binding part metadata\n   * @return {*} Transformed value to set\n   * @private\n   */\n  function computeBindingValue(node, value, binding, part) {\n    if (binding.isCompound) {\n      let storage = node.__dataCompoundStorage[binding.target];\n      storage[part.compoundIndex] = value;\n      value = storage.join('');\n    }\n    if (binding.kind !== 'attribute') {\n      // Some browsers serialize `undefined` to `\"undefined\"`\n      if (binding.target === 'textContent' ||\n          (node.localName == 'input' && binding.target == 'value')) {\n        value = value == undefined ? '' : value;\n      }\n    }\n    return value;\n  }\n\n  /**\n   * Returns true if a binding's metadata meets all the requirements to allow\n   * 2-way binding, and therefore a `<property>-changed` event listener should be\n   * added:\n   * - used curly braces\n   * - is a property (not attribute) binding\n   * - is not a textContent binding\n   * - is not compound\n   *\n   * @param {Object} binding Binding metadata\n   * @return {boolean} True if 2-way listener should be added\n   * @private\n   */\n  function shouldAddListener(binding) {\n    return binding.target &&\n           binding.kind != 'attribute' &&\n           binding.kind != 'text' &&\n           !binding.isCompound &&\n           binding.parts[0].mode === '{';\n  }\n\n  /**\n   * Setup compound binding storage structures, notify listeners, and dataHost\n   * references onto the bound nodeList.\n   *\n   * @param {Object} inst Instance that bas been previously bound\n   * @param {Object} templateInfo Template metadata\n   * @private\n   */\n  function setupBindings(inst, templateInfo) {\n    // Setup compound storage, dataHost, and notify listeners\n    let {nodeList, nodeInfoList} = templateInfo;\n    if (nodeInfoList.length) {\n      for (let i=0; i < nodeInfoList.length; i++) {\n        let info = nodeInfoList[i];\n        let node = nodeList[i];\n        let bindings = info.bindings;\n        if (bindings) {\n          for (let i=0; i<bindings.length; i++) {\n            let binding = bindings[i];\n            setupCompoundStorage(node, binding);\n            addNotifyListener(node, inst, binding);\n          }\n        }\n        node.__dataHost = inst;\n      }\n    }\n  }\n\n  /**\n   * Initializes `__dataCompoundStorage` local storage on a bound node with\n   * initial literal data for compound bindings, and sets the joined\n   * literal parts to the bound property.\n   *\n   * When changes to compound parts occur, they are first set into the compound\n   * storage array for that property, and then the array is joined to result in\n   * the final value set to the property/attribute.\n   *\n   * @param {Node} node Bound node to initialize\n   * @param {Object} binding Binding metadata\n   * @private\n   */\n  function setupCompoundStorage(node, binding) {\n    if (binding.isCompound) {\n      // Create compound storage map\n      let storage = node.__dataCompoundStorage ||\n        (node.__dataCompoundStorage = {});\n      let parts = binding.parts;\n      // Copy literals from parts into storage for this binding\n      let literals = new Array(parts.length);\n      for (let j=0; j<parts.length; j++) {\n        literals[j] = parts[j].literal;\n      }\n      let target = binding.target;\n      storage[target] = literals;\n      // Configure properties with their literal parts\n      if (binding.literal && binding.kind == 'property') {\n        node[target] = binding.literal;\n      }\n    }\n  }\n\n  /**\n   * Adds a 2-way binding notification event listener to the node specified\n   *\n   * @param {Object} node Child element to add listener to\n   * @param {Object} inst Host element instance to handle notification event\n   * @param {Object} binding Binding metadata\n   * @private\n   */\n  function addNotifyListener(node, inst, binding) {\n    if (binding.listenerEvent) {\n      let part = binding.parts[0];\n      node.addEventListener(binding.listenerEvent, function(e) {\n        handleNotification(e, inst, binding.target, part.source, part.negate);\n      });\n    }\n  }\n\n  // -- for method-based effects (complexObserver & computed) --------------\n\n  /**\n   * Adds property effects for each argument in the method signature (and\n   * optionally, for the method name if `dynamic` is true) that calls the\n   * provided effect function.\n   *\n   * @param {Element | Object} model Prototype or instance\n   * @param {Object} sig Method signature metadata\n   * @param {string} type Type of property effect to add\n   * @param {Function} effectFn Function to run when arguments change\n   * @param {*=} methodInfo Effect-specific information to be included in\n   *   method effect metadata\n   * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n   *   method names should be included as a dependency to the effect. Note,\n   *   defaults to true if the signature is static (sig.static is true).\n   * @private\n   */\n  function createMethodEffect(model, sig, type, effectFn, methodInfo, dynamicFn) {\n    dynamicFn = sig.static || (dynamicFn &&\n      (typeof dynamicFn !== 'object' || dynamicFn[sig.methodName]));\n    let info = {\n      methodName: sig.methodName,\n      args: sig.args,\n      methodInfo,\n      dynamicFn\n    };\n    for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n      if (!arg.literal) {\n        model._addPropertyEffect(arg.rootProperty, type, {\n          fn: effectFn, info: info, trigger: arg\n        });\n      }\n    }\n    if (dynamicFn) {\n      model._addPropertyEffect(sig.methodName, type, {\n        fn: effectFn, info: info\n      });\n    }\n  }\n\n  /**\n   * Calls a method with arguments marshaled from properties on the instance\n   * based on the method signature contained in the effect metadata.\n   *\n   * Multi-property observers, computed properties, and inline computing\n   * functions call this function to invoke the method, then use the return\n   * value accordingly.\n   *\n   * @param {Object} inst The instance the effect will be run on\n   * @param {string} property Name of property\n   * @param {Object} props Bag of current property changes\n   * @param {Object} oldProps Bag of previous values for changed properties\n   * @param {Object} info Effect metadata\n   * @return {*} Returns the return value from the method invocation\n   * @private\n   */\n  function runMethodEffect(inst, property, props, oldProps, info) {\n    // Instances can optionally have a _methodHost which allows redirecting where\n    // to find methods. Currently used by `templatize`.\n    let context = inst._methodHost || inst;\n    let fn = context[info.methodName];\n    if (fn) {\n      let args = marshalArgs(inst.__data, info.args, property, props);\n      return fn.apply(context, args);\n    } else if (!info.dynamicFn) {\n      console.warn('method `' + info.methodName + '` not defined');\n    }\n  }\n\n  const emptyArray = [];\n\n  // Regular expressions used for binding\n  const IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\n  const NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\n  const SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\n  const DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\n  const STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\n  const ARGUMENT = '(?:' + IDENT + '|' + NUMBER + '|' +  STRING + '\\\\s*' + ')';\n  const ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\n  const ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                                '(?:' + ARGUMENTS + '?' + ')' +\n                              '\\\\)\\\\s*' + ')';\n  const BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\n  const OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\n  const CLOSE_BRACKET = '(?:]]|}})';\n  const NEGATE = '(?:(!)\\\\s*)?'; // Group 2\n  const EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\n  const bindingRegex = new RegExp(EXPRESSION, \"g\");\n\n  function literalFromParts(parts) {\n    let s = '';\n    for (let i=0; i<parts.length; i++) {\n      let literal = parts[i].literal;\n      s += literal || '';\n    }\n    return s;\n  }\n\n  /**\n   * Parses an expression string for a method signature, and returns a metadata\n   * describing the method in terms of `methodName`, `static` (whether all the\n   * arguments are literals), and an array of `args`\n   *\n   * @param {string} expression The expression to parse\n   * @return {?Object} The method metadata object if a method expression was\n   *   found, otherwise `undefined`\n   * @private\n   */\n  function parseMethod(expression) {\n    // tries to match valid javascript property names\n    let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n    if (m) {\n      let methodName = m[1];\n      let sig = { methodName, static: true };\n      if (m[2].trim()) {\n        // replace escaped commas with comma entity, split on un-escaped commas\n        let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n        return parseArgs(args, sig);\n      } else {\n        sig.args = emptyArray;\n        return sig;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Parses an array of arguments and sets the `args` property of the supplied\n   * signature metadata object. Sets the `static` property to false if any\n   * argument is a non-literal.\n   *\n   * @param {Array<string>} argList Array of argument names\n   * @param {Object} sig Method signature metadata object\n   * @return {Object} The updated signature metadata object\n   * @private\n   */\n  function parseArgs(argList, sig) {\n    sig.args = argList.map(function(rawArg) {\n      let arg = parseArg(rawArg);\n      if (!arg.literal) {\n        sig.static = false;\n      }\n      return arg;\n    }, this);\n    return sig;\n  }\n\n  /**\n   * Parses an individual argument, and returns an argument metadata object\n   * with the following fields:\n   *\n   *   {\n   *     value: 'prop',        // property/path or literal value\n   *     literal: false,       // whether argument is a literal\n   *     structured: false,    // whether the property is a path\n   *     rootProperty: 'prop', // the root property of the path\n   *     wildcard: false       // whether the argument was a wildcard '.*' path\n   *   }\n   *\n   * @param {string} rawArg The string value of the argument\n   * @return {Object} Argument metadata object\n   * @private\n   */\n  function parseArg(rawArg) {\n    // clean up whitespace\n    let arg = rawArg.trim()\n      // replace comma entity with comma\n      .replace(/&comma;/g, ',')\n      // repair extra escape sequences; note only commas strictly need\n      // escaping, but we allow any other char to be escaped since its\n      // likely users will do this\n      .replace(/\\\\(.)/g, '\\$1')\n      ;\n    // basic argument descriptor\n    let a = {\n      name: arg\n    };\n    // detect literal value (must be String or Number)\n    let fc = arg[0];\n    if (fc === '-') {\n      fc = arg[1];\n    }\n    if (fc >= '0' && fc <= '9') {\n      fc = '#';\n    }\n    switch(fc) {\n      case \"'\":\n      case '\"':\n        a.value = arg.slice(1, -1);\n        a.literal = true;\n        break;\n      case '#':\n        a.value = Number(arg);\n        a.literal = true;\n        break;\n    }\n    // if not literal, look for structured path\n    if (!a.literal) {\n      a.rootProperty = Polymer.Path.root(arg);\n      // detect structured path (has dots)\n      a.structured = Polymer.Path.isPath(arg);\n      if (a.structured) {\n        a.wildcard = (arg.slice(-2) == '.*');\n        if (a.wildcard) {\n          a.name = arg.slice(0, -2);\n        }\n      }\n    }\n    return a;\n  }\n\n  /**\n   * Gather the argument values for a method specified in the provided array\n   * of argument metadata.\n   *\n   * The `path` and `value` arguments are used to fill in wildcard descriptor\n   * when the method is being called as a result of a path notification.\n   *\n   * @param {Object} data Instance data storage object to read properties from\n   * @param {Array<Object>} args Array of argument metadata\n   * @param {string} path Property/path name that triggered the method effect\n   * @param {Object} props Bag of current property changes\n   * @return {Array<*>} Array of argument values\n   * @private\n   */\n  function marshalArgs(data, args, path, props) {\n    let values = [];\n    for (let i=0, l=args.length; i<l; i++) {\n      let arg = args[i];\n      let name = arg.name;\n      let v;\n      if (arg.literal) {\n        v = arg.value;\n      } else {\n        if (arg.structured) {\n          v = Polymer.Path.get(data, name);\n          // when data is not stored e.g. `splices`\n          if (v === undefined) {\n            v = props[name];\n          }\n        } else {\n          v = data[name];\n        }\n      }\n      if (arg.wildcard) {\n        // Only send the actual path changed info if the change that\n        // caused the observer to run matched the wildcard\n        let baseChanged = (name.indexOf(path + '.') === 0);\n        let matches = (path.indexOf(name) === 0 && !baseChanged);\n        values[i] = {\n          path: matches ? path : name,\n          value: matches ? props[path] : v,\n          base: v\n        };\n      } else {\n        values[i] = v;\n      }\n    }\n    return values;\n  }\n\n  // data api\n\n  /**\n   * Sends array splice notifications (`.splices` and `.length`)\n   *\n   * Note: this implementation only accepts normalized paths\n   *\n   * @param {Element} inst Instance to send notifications to\n   * @param {Array} array The array the mutations occurred on\n   * @param {string} path The path to the array that was mutated\n   * @param {Array} splices Array of splice records\n   * @private\n   */\n  function notifySplices(inst, array, path, splices) {\n    let splicesPath = path + '.splices';\n    inst.notifyPath(splicesPath, { indexSplices: splices });\n    inst.notifyPath(path + '.length', array.length);\n    // Null here to allow potentially large splice records to be GC'ed.\n    inst.__data[splicesPath] = {indexSplices: null};\n  }\n\n  /**\n   * Creates a splice record and sends an array splice notification for\n   * the described mutation\n   *\n   * Note: this implementation only accepts normalized paths\n   *\n   * @param {Element} inst Instance to send notifications to\n   * @param {Array} array The array the mutations occurred on\n   * @param {string} path The path to the array that was mutated\n   * @param {number} index Index at which the array mutation occurred\n   * @param {number} addedCount Number of added items\n   * @param {Array} removed Array of removed items\n   * @private\n   */\n  function notifySplice(inst, array, path, index, addedCount, removed) {\n    notifySplices(inst, array, path, [{\n      index: index,\n      addedCount: addedCount,\n      removed: removed,\n      object: array,\n      type: 'splice'\n    }]);\n  }\n\n  /**\n   * Returns an upper-cased version of the string.\n   *\n   * @param {string} name String to uppercase\n   * @return {string} Uppercased string\n   * @private\n   */\n  function upper(name) {\n    return name[0].toUpperCase() + name.substring(1);\n  }\n\n  /**\n   * Element class mixin that provides meta-programming for Polymer's template\n   * binding and data observation (collectively, \"property effects\") system.\n   *\n   * This mixin uses provides the following key static methods for adding\n   * property effects to an element class:\n   * - `addPropertyEffect`\n   * - `createPropertyObserver`\n   * - `createMethodObserver`\n   * - `createNotifyingProperty`\n   * - `createReadOnlyProperty`\n   * - `createReflectedProperty`\n   * - `createComputedProperty`\n   * - `bindTemplate`\n   *\n   * Each method creates one or more property accessors, along with metadata\n   * used by this mixin's implementation of `_propertiesChanged` to perform\n   * the property effects.\n   *\n   * Underscored versions of the above methods also exist on the element\n   * prototype for adding property effects on instances at runtime.\n   *\n   * Note that this mixin overrides several `PropertyAccessors` methods, in\n   * many cases to maintain guarantees provided by the Polymer 1.x features;\n   * notably it changes property accessors to be synchronous by default\n   * whereas the default when using `PropertyAccessors` standalone is to be\n   * async by default.\n   *\n   * @polymerMixin\n   * @mixes Polymer.TemplateStamp\n   * @mixes Polymer.PropertyAccessors\n   * @memberof Polymer\n   * @summary Element class mixin that provides meta-programming for Polymer's\n   * template binding and data observation system.\n   */\n  Polymer.PropertyEffects = Polymer.dedupingMixin(superClass => {\n\n    /**\n     * @constructor\n     * @extends {superClass}\n     * @implements {Polymer_PropertyAccessors}\n     * @implements {Polymer_TemplateStamp}\n     */\n    const propertyEffectsBase = Polymer.TemplateStamp(Polymer.PropertyAccessors(superClass));\n\n    /**\n     * @polymerMixinClass\n     * @unrestricted\n     * @implements {Polymer_PropertyEffects}\n     */\n    class PropertyEffects extends propertyEffectsBase {\n\n      get PROPERTY_EFFECT_TYPES() {\n        return TYPES;\n      }\n\n      /**\n       * Overrides `Polymer.PropertyAccessors` implementation to initialize\n       * additional property-effect related properties.\n       *\n       * @override\n       */\n      _initializeProperties() {\n        super._initializeProperties();\n        hostStack.registerHost(this);\n        this.__dataClientsInitialized = false;\n        this.__dataPendingClients = null;\n        this.__dataToNotify = null;\n        this.__dataLinkedPaths = null;\n        this.__dataHasPaths = false;\n        // May be set on instance prior to upgrade\n        this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n        this.__dataHost = this.__dataHost || null;\n        this.__dataTemp = {};\n      }\n\n      /**\n       * Overrides `Polymer.PropertyAccessors` implementation to provide a\n       * more efficient implementation of initializing properties from\n       * the prototype on the instance.\n       *\n       * @override\n       */\n      _initializeProtoProperties(props) {\n        this.__data = Object.create(props);\n        this.__dataPending = Object.create(props);\n        this.__dataOld = {};\n      }\n\n      /**\n       * Overrides `Polymer.PropertyAccessors` implementation to avoid setting\n       * `_setProperty`'s `shouldNotify: true`.\n       *\n       * @override\n       */\n      _initializeInstanceProperties(props) {\n        let readOnly = this.__readOnly;\n        for (let prop in props) {\n          if (!readOnly || !readOnly[prop]) {\n            this.__dataPending = this.__dataPending || {};\n            this.__dataOld = this.__dataOld || {};\n            this.__data[prop] = this.__dataPending[prop] = props[prop];\n          }\n        }\n      }\n\n      // Prototype setup ----------------------------------------\n\n      /**\n       * Equivalent to static `addPropertyEffect` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Property that should trigger the effect\n       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @param {Object=} effect Effect metadata object\n       * @protected\n       */\n      _addPropertyEffect(property, type, effect) {\n        this._createPropertyAccessor(property, type == TYPES.READ_ONLY);\n        // effects are accumulated into arrays per property based on type\n        let effects = ensureOwnEffectMap(this, type)[property];\n        if (!effects) {\n          effects = this[type][property] = [];\n        }\n        effects.push(effect);\n      }\n\n      /**\n       * Removes the given property effect.\n       *\n       * @param {string} property Property the effect was associated with\n       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @param {Object=} effect Effect metadata object to remove\n       */\n      _removePropertyEffect(property, type, effect) {\n        let effects = ensureOwnEffectMap(this, type)[property];\n        let idx = effects.indexOf(effect);\n        if (idx >= 0) {\n          effects.splice(idx, 1);\n        }\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a property effect\n       * of a certain type.\n       *\n       * @param {string} property Property name\n       * @param {string=} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasPropertyEffect(property, type) {\n        let effects = this[type];\n        return Boolean(effects && effects[property]);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"read only\"\n       * accessor for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasReadOnlyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"notify\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasNotifyEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.NOTIFY);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"reflect to attribute\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasReflectEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.REFLECT);\n      }\n\n      /**\n       * Returns whether the current prototype/instance has a \"computed\"\n       * property effect for the given property.\n       *\n       * @param {string} property Property name\n       * @return {boolean} True if the prototype/instance has an effect of this type\n       * @protected\n       */\n      _hasComputedEffect(property) {\n        return this._hasPropertyEffect(property, TYPES.COMPUTE);\n      }\n\n      // Runtime ----------------------------------------\n\n      /**\n       * Sets a pending property or path.  If the root property of the path in\n       * question had no accessor, the path is set, otherwise it is enqueued\n       * via `_setPendingProperty`.\n       *\n       * This function isolates relatively expensive functionality necessary\n       * for the public API (`set`, `setProperties`, `notifyPath`, and property\n       * change listeners via {{...}} bindings), such that it is only done\n       * when paths enter the system, and not at every propagation step.  It\n       * also sets a `__dataHasPaths` flag on the instance which is used to\n       * fast-path slower path-matching code in the property effects host paths.\n       *\n       * `path` can be a path string or array of path parts as accepted by the\n       * public API.\n       *\n       * @param {string | !Array<number|string>} path Path to set\n       * @param {*} value Value to set\n       * @param {boolean=} shouldNotify Set to true if this change should\n       *  cause a property notification event dispatch\n       * @param {boolean=} isPathNotification If the path being set is a path\n       *   notification of an already changed value, as opposed to a request\n       *   to set and notify the change.  In the latter `false` case, a dirty\n       *   check is performed and then the value is set to the path before\n       *   enqueuing the pending property change.\n       * @return {boolean} Returns true if the property/path was enqueued in\n       *   the pending changes bag.\n       * @protected\n       */\n      _setPendingPropertyOrPath(path, value, shouldNotify, isPathNotification) {\n        if (isPathNotification ||\n            Polymer.Path.root(Array.isArray(path) ? path[0] : path) !== path) {\n          // Dirty check changes being set to a path against the actual object,\n          // since this is the entry point for paths into the system; from here\n          // the only dirty checks are against the `__dataTemp` cache to prevent\n          // duplicate work in the same turn only. Note, if this was a notification\n          // of a change already set to a path (isPathNotification: true),\n          // we always let the change through and skip the `set` since it was\n          // already dirty checked at the point of entry and the underlying\n          // object has already been updated\n          if (!isPathNotification) {\n            let old = Polymer.Path.get(this, path);\n            path = /** @type {string} */ (Polymer.Path.set(this, path, value));\n            // Use property-accessor's simpler dirty check\n            if (!path || !super._shouldPropertyChange(path, value, old)) {\n              return false;\n            }\n          }\n          this.__dataHasPaths = true;\n          if (this._setPendingProperty(path, value, shouldNotify)) {\n            computeLinkedPaths(this, path, value);\n            return true;\n          }\n        } else {\n          if (this.__dataHasAccessor && this.__dataHasAccessor[path]) {\n            return this._setPendingProperty(path, value, shouldNotify);\n          } else {\n            this[path] = value;\n          }\n        }\n        return false;\n      }\n\n      /**\n       * Applies a value to a non-Polymer element/node's property.\n       *\n       * The implementation makes a best-effort at binding interop:\n       * Some native element properties have side-effects when\n       * re-setting the same value (e.g. setting `<input>.value` resets the\n       * cursor position), so we do a dirty-check before setting the value.\n       * However, for better interop with non-Polymer custom elements that\n       * accept objects, we explicitly re-set object changes coming from the\n       * Polymer world (which may include deep object changes without the\n       * top reference changing), erring on the side of providing more\n       * information.\n       *\n       * Users may override this method to provide alternate approaches.\n       *\n       * @param {Node} node The node to set a property on\n       * @param {string} prop The property to set\n       * @param {*} value The value to set\n       * @protected\n       */\n      _setUnmanagedPropertyToNode(node, prop, value) {\n        // It is a judgment call that resetting primitives is\n        // \"bad\" and resettings objects is also \"good\"; alternatively we could\n        // implement a whitelist of tag & property values that should never\n        // be reset (e.g. <input>.value && <select>.value)\n        if (value !== node[prop] || typeof value == 'object') {\n          node[prop] = value;\n        }\n      }\n\n      /**\n       * Overrides the `PropertyAccessors` implementation to introduce special\n       * dirty check logic depending on the property & value being set:\n       *\n       * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})\n       *    Stored in `__dataTemp`, dirty checked against `__dataTemp`\n       * 2. Object set to simple property (e.g. 'prop': {...})\n       *    Stored in `__dataTemp` and `__data`, dirty checked against\n       *    `__dataTemp` by default implementation of `_shouldPropertyChange`\n       * 3. Primitive value set to simple property (e.g. 'prop': 42)\n       *    Stored in `__data`, dirty checked against `__data`\n       *\n       * The dirty-check is important to prevent cycles due to two-way\n       * notification, but paths and objects are only dirty checked against any\n       * previous value set during this turn via a \"temporary cache\" that is\n       * cleared when the last `_propertiesChaged` exits. This is so:\n       * a. any cached array paths (e.g. 'array.3.prop') may be invalidated\n       *    due to array mutations like shift/unshift/splice; this is fine\n       *    since path changes are dirty-checked at user entry points like `set`\n       * b. dirty-checking for objects only lasts one turn to allow the user\n       *    to mutate the object in-place and re-set it with the same identity\n       *    and have all sub-properties re-propagated in a subsequent turn.\n       *\n       * The temp cache is not necessarily sufficient to prevent invalid array\n       * paths, since a splice can happen during the same turn (with pathological\n       * user code); we could introduce a \"fixup\" for temporarily cached array\n       * paths if needed: https://github.com/Polymer/polymer/issues/4227\n       *\n       * @override\n       */\n      _setPendingProperty(property, value, shouldNotify) {\n        let isPath = this.__dataHasPaths && Polymer.Path.isPath(property);\n        let prevProps = isPath ? this.__dataTemp : this.__data;\n        if (this._shouldPropertyChange(property, value, prevProps[property])) {\n          if (!this.__dataPending) {\n            this.__dataPending = {};\n            this.__dataOld = {};\n          }\n          // Ensure old is captured from the last turn\n          if (!(property in this.__dataOld)) {\n            this.__dataOld[property] = this.__data[property];\n          }\n          // Paths are stored in temporary cache (cleared at end of turn),\n          // which is used for dirty-checking, all others stored in __data\n          if (isPath) {\n            this.__dataTemp[property] = value;\n          } else {\n            this.__data[property] = value;\n          }\n          // All changes go into pending property bag, passed to _propertiesChanged\n          this.__dataPending[property] = value;\n          // Track properties that should notify separately\n          if (isPath || (this.__notifyEffects && this.__notifyEffects[property])) {\n            this.__dataToNotify = this.__dataToNotify || {};\n            this.__dataToNotify[property] = shouldNotify;\n          }\n          return true;\n        }\n      }\n\n      /**\n       * Overrides base implementation to ensure all accessors set `shouldNotify`\n       * to true, for per-property notification tracking.\n       *\n       * @override\n       */\n      _setProperty(property, value) {\n        if (this._setPendingProperty(property, value, true)) {\n          this._invalidateProperties();\n        }\n      }\n\n      /**\n       * Overrides `PropertyAccessor`'s default async queuing of\n       * `_propertiesChanged`: if `__dataInitialized` is false (has not yet been\n       * manually flushed), the function no-ops; otherwise flushes\n       * `_propertiesChanged` synchronously.\n       *\n       * @override\n       */\n      _invalidateProperties() {\n        if (this.__dataInitialized) {\n          this._flushProperties();\n        }\n      }\n\n      /**\n       * Enqueues the given client on a list of pending clients, whose\n       * pending property changes can later be flushed via a call to\n       * `_flushClients`.\n       *\n       * @param {Object} client PropertyEffects client to enqueue\n       * @protected\n       */\n      _enqueueClient(client) {\n        this.__dataPendingClients = this.__dataPendingClients || [];\n        if (client !== this) {\n          this.__dataPendingClients.push(client);\n        }\n      }\n\n      /**\n       * Flushes any clients previously enqueued via `_enqueueClient`, causing\n       * their `_flushProperties` method to run.\n       *\n       * @protected\n       */\n      _flushClients() {\n        if (!this.__dataClientsInitialized) {\n          this.__dataClientsInitialized = true;\n          this._readyClients();\n          // Override point where accessors are turned on; importantly,\n          // this is after clients have fully readied, providing a guarantee\n          // that any property effects occur only after all clients are ready.\n          this.__dataInitialized = true;\n        } else {\n          // Flush all clients\n          let clients = this.__dataPendingClients;\n          if (clients) {\n            this.__dataPendingClients = null;\n            for (let i=0; i < clients.length; i++) {\n              let client = clients[i];\n              if (client.__dataPending) {\n                client._flushProperties();\n              }\n            }\n          }\n        }\n      }\n\n      /**\n       * Perform any initial setup on client dom. Called before the first\n       * `_flushProperties` call on client dom and before any element\n       * observers are called.\n       *\n       * @protected\n       */\n      _readyClients() {\n        let clients = this.__dataPendingClients;\n        if (clients) {\n          this.__dataPendingClients = null;\n          for (let i=0; i < clients.length; i++) {\n            let client = clients[i];\n            if (!client.__dataEnabled) {\n              client._enableProperties();\n            }\n          }\n        }\n      }\n\n      /**\n       * Sets a bag of property changes to this instance, and\n       * synchronously processes all effects of the properties as a batch.\n       *\n       * Property names must be simple properties, not paths.  Batched\n       * path propagation is not supported.\n       *\n       * @param {Object} props Bag of one or more key-value pairs whose key is\n       *   a property and value is the new value to set for that property.\n       * @param {boolean=} setReadOnly When true, any private values set in\n       *   `props` will be set. By default, `setProperties` will not set\n       *   `readOnly: true` root properties.\n       * @public\n       */\n      setProperties(props, setReadOnly) {\n        for (let path in props) {\n          if (setReadOnly || !this.__readOnly || !this.__readOnly[path]) {\n            //TODO(kschaaf): explicitly disallow paths in setProperty?\n            // wildcard observers currently only pass the first changed path\n            // in the `info` object, and you could do some odd things batching\n            // paths, e.g. {'foo.bar': {...}, 'foo': null}\n            this._setPendingPropertyOrPath(path, props[path], true);\n          }\n        }\n        this._invalidateProperties();\n      }\n\n      /**\n       * Overrides `PropertyAccessors` so that property accessor\n       * side effects are not enabled until after client dom is fully ready.\n       * Also calls `_flushClients` callback to ensure client dom is enabled\n       * that was not enabled as a result of flushing properties.\n       *\n       * @override\n       */\n      ready() {\n        // It is important that `super.ready()` is not called here as it\n        // immediately turns on accessors. Instead, we wait until `readyClients`\n        // to enable accessors to provide a guarantee that clients are ready\n        // before processing any accessors side effects.\n        this._flushProperties();\n        // If no data was pending, `_flushProperties` will not `flushClients`\n        // so ensure this is done.\n        if (!this.__dataClientsInitialized) {\n          this._flushClients();\n        }\n        // Before ready, client notifications do not trigger _flushProperties.\n        // Therefore a flush is necessary here if data has been set.\n        if (this.__dataPending) {\n          this._flushProperties();\n        }\n      }\n\n      /**\n       * Implements `PropertyAccessors`'s properties changed callback.\n       *\n       * Runs each class of effects for the batch of changed properties in\n       * a specific order (compute, propagate, reflect, observe, notify).\n       *\n       * @override\n       */\n      _propertiesChanged(currentProps, changedProps, oldProps) {\n        // ----------------------------\n        // let c = Object.getOwnPropertyNames(changedProps || {});\n        // window.debug && console.group(this.localName + '#' + this.id + ': ' + c);\n        // if (window.debug) { debugger; }\n        // ----------------------------\n        let hasPaths = this.__dataHasPaths;\n        this.__dataHasPaths = false;\n        // Compute properties\n        runComputedEffects(this, changedProps, oldProps, hasPaths);\n        // Clear notify properties prior to possible reentry (propagate, observe),\n        // but after computing effects have a chance to add to them\n        let notifyProps = this.__dataToNotify;\n        this.__dataToNotify = null;\n        // Propagate properties to clients\n        this._propagatePropertyChanges(changedProps, oldProps, hasPaths);\n        // Flush clients\n        this._flushClients();\n        // Reflect properties\n        runEffects(this, this.__reflectEffects, changedProps, oldProps, hasPaths);\n        // Observe properties\n        runEffects(this, this.__observeEffects, changedProps, oldProps, hasPaths);\n        // Notify properties to host\n        if (notifyProps) {\n          runNotifyEffects(this, notifyProps, changedProps, oldProps, hasPaths);\n        }\n        // Clear temporary cache at end of turn\n        if (this.__dataCounter == 1) {\n          this.__dataTemp = {};\n        }\n        // ----------------------------\n        // window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n        // ----------------------------\n      }\n\n      /**\n       * Called to propagate any property changes to stamped template nodes\n       * managed by this element.\n       *\n       * @param {Object} changedProps Bag of changed properties\n       * @param {Object} oldProps Bag of previous values for changed properties\n       * @param {boolean} hasPaths True with `props` contains one or more paths\n       * @protected\n       */\n      _propagatePropertyChanges(changedProps, oldProps, hasPaths) {\n        if (this.__propagateEffects) {\n          runEffects(this, this.__propagateEffects, changedProps, oldProps, hasPaths);\n        }\n        let templateInfo = this.__templateInfo;\n        while (templateInfo) {\n          runEffects(this, templateInfo.propertyEffects, changedProps, oldProps,\n            hasPaths, templateInfo.nodeList);\n          templateInfo = templateInfo.nextTemplateInfo;\n        }\n      }\n\n      /**\n       * Aliases one data path as another, such that path notifications from one\n       * are routed to the other.\n       *\n       * @param {string | !Array<string|number>} to Target path to link.\n       * @param {string | !Array<string|number>} from Source path to link.\n       * @public\n       */\n      linkPaths(to, from) {\n        to = Polymer.Path.normalize(to);\n        from = Polymer.Path.normalize(from);\n        this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n        this.__dataLinkedPaths[to] = from;\n      }\n\n      /**\n       * Removes a data path alias previously established with `_linkPaths`.\n       *\n       * Note, the path to unlink should be the target (`to`) used when\n       * linking the paths.\n       *\n       * @param {string | !Array<string|number>} path Target path to unlink.\n       * @public\n       */\n      unlinkPaths(path) {\n        path = Polymer.Path.normalize(path);\n        if (this.__dataLinkedPaths) {\n          delete this.__dataLinkedPaths[path];\n        }\n      }\n\n      /**\n       * Notify that an array has changed.\n       *\n       * Example:\n       *\n       *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n       *     ...\n       *     this.items.splice(1, 1, {name: 'Sam'});\n       *     this.items.push({name: 'Bob'});\n       *     this.notifySplices('items', [\n       *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1, obect: this.items, type: 'splice' },\n       *       { index: 3, removed: [], addedCount: 1, object: this.items, type: 'splice'}\n       *     ]);\n       *\n       * @param {string} path Path that should be notified.\n       * @param {Array} splices Array of splice records indicating ordered\n       *   changes that occurred to the array. Each record should have the\n       *   following fields:\n       *    * index: index at which the change occurred\n       *    * removed: array of items that were removed from this index\n       *    * addedCount: number of new items added at this index\n       *    * object: a reference to the array in question\n       *    * type: the string literal 'splice'\n       *\n       *   Note that splice records _must_ be normalized such that they are\n       *   reported in index order (raw results from `Object.observe` are not\n       *   ordered and must be normalized/merged before notifying).\n       * @public\n      */\n      notifySplices(path, splices) {\n        let info = {};\n        let array = /** @type {Array} */(Polymer.Path.get(this, path, info));\n        notifySplices(this, array, info.path, splices);\n      }\n\n      /**\n       * Convenience method for reading a value from a path.\n       *\n       * Note, if any part in the path is undefined, this method returns\n       * `undefined` (this method does not throw when dereferencing undefined\n       * paths).\n       *\n       * @param {(string|!Array<(string|number)>)} path Path to the value\n       *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n       * @param {Object=} root Root object from which the path is evaluated.\n       * @return {*} Value at the path, or `undefined` if any part of the path\n       *   is undefined.\n       * @public\n       */\n      get(path, root) {\n        return Polymer.Path.get(root || this, path);\n      }\n\n      /**\n       * Convenience method for setting a value to a path and notifying any\n       * elements bound to the same path.\n       *\n       * Note, if any part in the path except for the last is undefined,\n       * this method does nothing (this method does not throw when\n       * dereferencing undefined paths).\n       *\n       * @param {(string|!Array<(string|number)>)} path Path to the value\n       *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n       *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n       *   bracketed expressions are not supported; string-based path parts\n       *   *must* be separated by dots.  Note that when dereferencing array\n       *   indices, the index may be used as a dotted part directly\n       *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n       * @param {*} value Value to set at the specified path.\n       * @param {Object=} root Root object from which the path is evaluated.\n       *   When specified, no notification will occur.\n       * @public\n      */\n      set(path, value, root) {\n        if (root) {\n          Polymer.Path.set(root, path, value);\n        } else {\n          if (!this.__readOnly || !this.__readOnly[/** @type {string} */(path)]) {\n            if (this._setPendingPropertyOrPath(path, value, true)) {\n              this._invalidateProperties();\n            }\n          }\n        }\n      }\n\n      /**\n       * Adds items onto the end of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @param {string} path Path to array.\n       * @param {...*} items Items to push onto array\n       * @return {number} New length of the array.\n       * @public\n       */\n      push(path, ...items) {\n        let info = {};\n        let array = /** @type {Array}*/(Polymer.Path.get(this, path, info));\n        let len = array.length;\n        let ret = array.push(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, len, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the end of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @param {string} path Path to array.\n       * @return {*} Item that was removed.\n       * @public\n       */\n      pop(path) {\n        let info = {};\n        let array = /** @type {Array} */(Polymer.Path.get(this, path, info));\n        let hadLength = Boolean(array.length);\n        let ret = array.pop();\n        if (hadLength) {\n          notifySplice(this, array, info.path, array.length, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Starting from the start index specified, removes 0 or more items\n       * from the array and inserts 0 or more new items in their place.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.splice`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @param {string} path Path to array.\n       * @param {number} start Index from which to start removing/inserting.\n       * @param {number} deleteCount Number of items to remove.\n       * @param {...*} items Items to insert into array.\n       * @return {Array} Array of removed items.\n       * @public\n       */\n      splice(path, start, deleteCount, ...items) {\n        let info = {};\n        let array = /** @type {Array} */(Polymer.Path.get(this, path, info));\n        // Normalize fancy native splice handling of crazy start values\n        if (start < 0) {\n          start = array.length - Math.floor(-start);\n        } else {\n          start = Math.floor(start);\n        }\n        if (!start) {\n          start = 0;\n        }\n        let ret = array.splice(start, deleteCount, ...items);\n        if (items.length || ret.length) {\n          notifySplice(this, array, info.path, start, items.length, ret);\n        }\n        return ret;\n      }\n\n      /**\n       * Removes an item from the beginning of array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.pop`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @param {string} path Path to array.\n       * @return {*} Item that was removed.\n       * @public\n       */\n      shift(path) {\n        let info = {};\n        let array = /** @type {Array} */(Polymer.Path.get(this, path, info));\n        let hadLength = Boolean(array.length);\n        let ret = array.shift();\n        if (hadLength) {\n          notifySplice(this, array, info.path, 0, 0, [ret]);\n        }\n        return ret;\n      }\n\n      /**\n       * Adds items onto the beginning of the array at the path specified.\n       *\n       * The arguments after `path` and return value match that of\n       * `Array.prototype.push`.\n       *\n       * This method notifies other paths to the same array that a\n       * splice occurred to the array.\n       *\n       * @param {string} path Path to array.\n       * @param {...*} items Items to insert info array\n       * @return {number} New length of the array.\n       * @public\n       */\n      unshift(path, ...items) {\n        let info = {};\n        let array = /** @type {Array} */(Polymer.Path.get(this, path, info));\n        let ret = array.unshift(...items);\n        if (items.length) {\n          notifySplice(this, array, info.path, 0, items.length, []);\n        }\n        return ret;\n      }\n\n      /**\n       * Notify that a path has changed.\n       *\n       * Example:\n       *\n       *     this.item.user.name = 'Bob';\n       *     this.notifyPath('item.user.name');\n       *\n       * @param {string} path Path that should be notified.\n       * @param {*=} value Value at the path (optional).\n       * @public\n      */\n      notifyPath(path, value) {\n        /** @type {string} */\n        let propPath;\n        if (arguments.length == 1) {\n          // Get value if not supplied\n          let info = {};\n          value = Polymer.Path.get(this, path, info);\n          propPath = info.path;\n        } else if (Array.isArray(path)) {\n          // Normalize path if needed\n          propPath = Polymer.Path.normalize(path);\n        } else {\n          propPath = /** @type{string} */(path);\n        }\n        if (this._setPendingPropertyOrPath(propPath, value, true, true)) {\n          this._invalidateProperties();\n        }\n      }\n\n      /**\n       * Equivalent to static `createReadOnlyProperty` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Property name\n       * @param {boolean=} protectedSetter Creates a custom protected setter\n       *   when `true`.\n       * @protected\n       */\n      _createReadOnlyProperty(property, protectedSetter) {\n        this._addPropertyEffect(property, TYPES.READ_ONLY);\n        if (protectedSetter) {\n          this['_set' + upper(property)] = function(value) {\n            this._setProperty(property, value);\n          }\n        }\n      }\n\n      /**\n       * Equivalent to static `createPropertyObserver` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Property name\n       * @param {string} methodName Name of observer method to call\n       * @param {boolean=} dynamicFn Whether the method name should be included as\n       *   a dependency to the effect.\n       * @protected\n       */\n      _createPropertyObserver(property, methodName, dynamicFn) {\n        let info = { property, methodName, dynamicFn };\n        this._addPropertyEffect(property, TYPES.OBSERVE, {\n          fn: runObserverEffect, info, trigger: {name: property}\n        });\n        if (dynamicFn) {\n          this._addPropertyEffect(methodName, TYPES.OBSERVE, {\n            fn: runObserverEffect, info, trigger: {name: methodName}\n          });\n        }\n      }\n\n      /**\n       * Equivalent to static `createMethodObserver` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} expression Method expression\n       * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n       *   whether method names should be included as a dependency to the effect.\n       * @protected\n       */\n      _createMethodObserver(expression, dynamicFn) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.OBSERVE, runMethodEffect, null, dynamicFn);\n      }\n\n      /**\n       * Equivalent to static `createNotifyingProperty` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      _createNotifyingProperty(property) {\n        this._addPropertyEffect(property, TYPES.NOTIFY, {\n          fn: runNotifyEffect,\n          info: {\n            eventName: CaseMap.camelToDashCase(property) + '-changed',\n            property: property\n          }\n        });\n      }\n\n      /**\n       * Equivalent to static `createReflectedProperty` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      _createReflectedProperty(property) {\n        let attr = CaseMap.camelToDashCase(property);\n        if (attr[0] === '-') {\n          console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n            attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property thisead.');\n        } else {\n          this._addPropertyEffect(property, TYPES.REFLECT, {\n            fn: runReflectEffect,\n            info: {\n              attrName: attr\n            }\n          });\n        }\n      }\n\n      /**\n       * Equivalent to static `createComputedProperty` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * @param {string} property Name of computed property to set\n       * @param {string} expression Method expression\n       * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n       *   whether method names should be included as a dependency to the effect.\n       * @protected\n       */\n      _createComputedProperty(property, expression, dynamicFn) {\n        let sig = parseMethod(expression);\n        if (!sig) {\n          throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n        }\n        createMethodEffect(this, sig, TYPES.COMPUTE, runComputedEffect, property, dynamicFn);\n      }\n\n      // -- static class methods ------------\n\n      /**\n       * Ensures an accessor exists for the specified property, and adds\n       * to a list of \"property effects\" that will run when the accessor for\n       * the specified property is set.  Effects are grouped by \"type\", which\n       * roughly corresponds to a phase in effect processing.  The effect\n       * metadata should be in the following form:\n       *\n       *   {\n       *     fn: effectFunction, // Reference to function to call to perform effect\n       *     info: { ... }       // Effect metadata passed to function\n       *     trigger: {          // Optional triggering metadata; if not provided\n       *       name: string      // the property is treated as a wildcard\n       *       structured: boolean\n       *       wildcard: boolean\n       *     }\n       *   }\n       *\n       * Effects are called from `_propertiesChanged` in the following order by\n       * type:\n       *\n       * 1. COMPUTE\n       * 2. PROPAGATE\n       * 3. REFLECT\n       * 4. OBSERVE\n       * 5. NOTIFY\n       *\n       * Effect functions are called with the following signature:\n       *\n       *   effectFunction(inst, path, props, oldProps, info, hasPaths)\n       *\n       * @param {string} property Property that should trigger the effect\n       * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n       * @param {Object=} effect Effect metadata object\n       * @protected\n       */\n      static addPropertyEffect(property, type, effect) {\n        this.prototype._addPropertyEffect(property, type, effect);\n      }\n\n      /**\n       * Creates a single-property observer for the given property.\n       *\n       * @param {string} property Property name\n       * @param {string} methodName Name of observer method to call\n       * @param {boolean=} dynamicFn Whether the method name should be included as\n       *   a dependency to the effect.\n       * @protected\n       */\n      static createPropertyObserver(property, methodName, dynamicFn) {\n        this.prototype._createPropertyObserver(property, methodName, dynamicFn);\n      }\n\n      /**\n       * Creates a multi-property \"method observer\" based on the provided\n       * expression, which should be a string in the form of a normal Javascript\n       * function signature: `'methodName(arg1, [..., argn])'`.  Each argument\n       * should correspond to a property or path in the context of this\n       * prototype (or instance), or may be a literal string or number.\n       *\n       * @param {string} expression Method expression\n       * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n       *   whether method names should be included as a dependency to the effect.\n       * @protected\n       */\n      static createMethodObserver(expression, dynamicFn) {\n        this.prototype._createMethodObserver(expression, dynamicFn);\n      }\n\n      /**\n       * Causes the setter for the given property to dispatch `<property>-changed`\n       * events to notify of changes to the property.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      static createNotifyingProperty(property) {\n        this.prototype._createNotifyingProperty(property);\n      }\n\n      /**\n       * Creates a read-only accessor for the given property.\n       *\n       * To set the property, use the protected `_setProperty` API.\n       * To create a custom protected setter (e.g. `_setMyProp()` for\n       * property `myProp`), pass `true` for `protectedSetter`.\n       *\n       * Note, if the property will have other property effects, this method\n       * should be called first, before adding other effects.\n       *\n       * @param {string} property Property name\n       * @param {boolean=} protectedSetter Creates a custom protected setter\n       *   when `true`.\n       * @protected\n       */\n      static createReadOnlyProperty(property, protectedSetter) {\n        this.prototype._createReadOnlyProperty(property, protectedSetter);\n      }\n\n      /**\n       * Causes the setter for the given property to reflect the property value\n       * to a (dash-cased) attribute of the same name.\n       *\n       * @param {string} property Property name\n       * @protected\n       */\n      static createReflectedProperty(property) {\n        this.prototype._createReflectedProperty(property);\n      }\n\n      /**\n       * Creates a computed property whose value is set to the result of the\n       * method described by the given `expression` each time one or more\n       * arguments to the method changes.  The expression should be a string\n       * in the form of a normal Javascript function signature:\n       * `'methodName(arg1, [..., argn])'`\n       *\n       * @param {string} property Name of computed property to set\n       * @param {string} expression Method expression\n       * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n       *   method names should be included as a dependency to the effect.\n       * @protected\n       */\n      static createComputedProperty(property, expression, dynamicFn) {\n        this.prototype._createComputedProperty(property, expression, dynamicFn);\n      }\n\n      /**\n       * Parses the provided template to ensure binding effects are created\n       * for them, and then ensures property accessors are created for any\n       * dependent properties in the template.  Binding effects for bound\n       * templates are stored in a linked list on the instance so that\n       * templates can be efficiently stamped and unstamped.\n       *\n       * @param {HTMLTemplateElement} template Template containing binding\n       *   bindings\n       * @return {Object} Template metadata object\n       * @protected\n       */\n      static bindTemplate(template) {\n        return this.prototype._bindTemplate(template);\n      }\n\n      // -- binding ----------------------------------------------\n\n      /**\n       * Equivalent to static `bindTemplate` API but can be called on\n       * an instance to add effects at runtime.  See that method for\n       * full API docs.\n       *\n       * This method may be called on the prototype (for prototypical template\n       * binding, to avoid creating accessors every instance) once per prototype,\n       * and will be called with `runtimeBinding: true` by `_stampTemplate` to\n       * create and link an instance of the template metadata associated with a\n       * particular stamping.\n       *\n       * @param {HTMLTemplateElement} template Template containing binding\n       *   bindings\n       * @param {boolean=} instanceBinding When false (default), performs\n       *   \"prototypical\" binding of the template and overwrites any previously\n       *   bound template for the class. When true (as passed from\n       *   `_stampTemplate`), the template info is instanced and linked into\n       *   the list of bound templates.\n       * @return {Object} Template metadata object; for `runtimeBinding`,\n       *   this is an instance of the prototypical template info\n       * @protected\n       */\n      _bindTemplate(template, instanceBinding) {\n        let templateInfo = this.constructor._parseTemplate(template);\n        let wasPreBound = this.__templateInfo == templateInfo;\n        // Optimization: since this is called twice for proto-bound templates,\n        // don't attempt to recreate accessors if this template was pre-bound\n        if (!wasPreBound) {\n          for (let prop in templateInfo.propertyEffects) {\n            this._createPropertyAccessor(prop);\n          }\n        }\n        if (instanceBinding) {\n          // For instance-time binding, create instance of template metadata\n          // and link into list of templates if necessary\n          templateInfo = Object.create(templateInfo);\n          templateInfo.wasPreBound = wasPreBound;\n          if (!wasPreBound && this.__templateInfo) {\n            let last = this.__templateInfoLast || this.__templateInfo;\n            this.__templateInfoLast = last.nextTemplateInfo = templateInfo;\n            templateInfo.previousTemplateInfo = last;\n            return templateInfo;\n          }\n        }\n        return this.__templateInfo = templateInfo;\n      }\n\n      /**\n       * Adds a property effect to the given template metadata, which is run\n       * at the \"propagate\" stage of `_propertiesChanged` when the template\n       * has been bound to the element via `_bindTemplate`.\n       *\n       * The `effect` object should match the format in `_addPropertyEffect`.\n       *\n       * @param {Object} templateInfo Template metadata to add effect to\n       * @param {string} prop Property that should trigger the effect\n       * @param {Object=} effect Effect metadata object\n       * @protected\n       */\n      static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n        let hostProps = templateInfo.hostProps = templateInfo.hostProps || {};\n        hostProps[prop] = true;\n        let effects = templateInfo.propertyEffects = templateInfo.propertyEffects || {};\n        let propEffects = effects[prop] = effects[prop] || [];\n        propEffects.push(effect);\n      }\n\n      /**\n       * Stamps the provided template and performs instance-time setup for\n       * Polymer template features, including data bindings, declarative event\n       * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment\n       * is returned containing the stamped DOM, ready for insertion into the\n       * DOM.\n       *\n       * This method may be called more than once; however note that due to\n       * `shadycss` polyfill limitations, only styles from templates prepared\n       * using `ShadyCSS.prepareTemplate` will be correctly polyfilled (scoped\n       * to the shadow root and support CSS custom properties), and note that\n       * `ShadyCSS.prepareTemplate` may only be called once per element. As such,\n       * any styles required by in runtime-stamped templates must be included\n       * in the main element template.\n       *\n       * @param {HTMLTemplateElement} template Template to stamp\n       * @return {DocumentFragment} Cloned template content\n       * @protected\n       */\n      _stampTemplate(template) {\n        // Ensures that created dom is `_enqueueClient`'d to this element so\n        // that it can be flushed on next call to `_flushProperties`\n        hostStack.beginHosting(this);\n        let dom = super._stampTemplate(template);\n        hostStack.endHosting(this);\n        let templateInfo = this._bindTemplate(template, true);\n        // Add template-instance-specific data to instanced templateInfo\n        templateInfo.nodeList = dom.nodeList;\n        // Capture child nodes to allow unstamping of non-prototypical templates\n        if (!templateInfo.wasPreBound) {\n          let nodes = templateInfo.childNodes = [];\n          for (let n=dom.firstChild; n; n=n.nextSibling) {\n            nodes.push(n);\n          }\n        }\n        dom.templateInfo = templateInfo;\n        // Setup compound storage, 2-way listeners, and dataHost for bindings\n        setupBindings(this, templateInfo);\n        // Flush properties into template nodes if already booted\n        if (this.__dataInitialized) {\n          runEffects(this, templateInfo.propertyEffects, this.__data, null,\n            false, templateInfo.nodeList);\n        }\n        return dom;\n      }\n\n      /**\n       * Removes and unbinds the nodes previously contained in the provided\n       * DocumentFragment returned from `_stampTemplate`.\n       *\n       * @param {DocumentFragment} dom DocumentFragment previously returned\n       *   from `_stampTemplate` associated with the nodes to be removed\n       * @protected\n       */\n      _removeBoundDom(dom) {\n        // Unlink template info\n        let templateInfo = dom.templateInfo;\n        if (templateInfo.previousTemplateInfo) {\n          templateInfo.previousTemplateInfo.nextTemplateInfo =\n            templateInfo.nextTemplateInfo;\n        }\n        if (templateInfo.nextTemplateInfo) {\n          templateInfo.nextTemplateInfo.previousTemplateInfo =\n            templateInfo.previousTemplateInfo;\n        }\n        if (this.__templateInfoLast == templateInfo) {\n          this.__templateInfoLast = templateInfo.previousTemplateInfo;\n        }\n        templateInfo.previousTemplateInfo = templateInfo.nextTemplateInfo = null;\n        // Remove stamped nodes\n        let nodes = templateInfo.childNodes;\n        for (let i=0; i<nodes.length; i++) {\n          let node = nodes[i];\n          node.parentNode.removeChild(node);\n        }\n      }\n\n      /**\n       * Overrides default `TemplateStamp` implementation to add support for\n       * parsing bindings from `TextNode`'s' `textContent`.  A `bindings`\n       * array is added to `nodeInfo` and populated with binding metadata\n       * with information capturing the binding target, and a `parts` array\n       * with one or more metadata objects capturing the source(s) of the\n       * binding.\n       *\n       * @override\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template node\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       * @protected\n       */\n      static _parseTemplateNode(node, templateInfo, nodeInfo) {\n        let noted = super._parseTemplateNode(node, templateInfo, nodeInfo);\n        if (node.nodeType === Node.TEXT_NODE) {\n          let parts = this._parseBindings(node.textContent, templateInfo);\n          if (parts) {\n            // Initialize the textContent with any literal parts\n            // NOTE: default to a space here so the textNode remains; some browsers\n            // (IE) evacipate an empty textNode following cloneNode/importNode.\n            node.textContent = literalFromParts(parts) || ' ';\n            addBinding(this, templateInfo, nodeInfo, 'text', 'textContent', parts);\n            noted = true;\n          }\n        }\n        return noted;\n      }\n\n      /**\n       * Overrides default `TemplateStamp` implementation to add support for\n       * parsing bindings from attributes.  A `bindings`\n       * array is added to `nodeInfo` and populated with binding metadata\n       * with information capturing the binding target, and a `parts` array\n       * with one or more metadata objects capturing the source(s) of the\n       * binding.\n       *\n       * @override\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template node\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       * @protected\n       */\n      static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n        let parts = this._parseBindings(value, templateInfo);\n        if (parts) {\n          // Attribute or property\n          let origName = name;\n          let kind = 'property';\n          if (name[name.length-1] == '$') {\n            name = name.slice(0, -1);\n            kind = 'attribute';\n          }\n          // Initialize attribute bindings with any literal parts\n          let literal = literalFromParts(parts);\n          if (literal && kind == 'attribute') {\n            node.setAttribute(name, literal);\n          }\n          // Clear attribute before removing, since IE won't allow removing\n          // `value` attribute if it previously had a value (can't\n          // unconditionally set '' before removing since attributes with `$`\n          // can't be set using setAttribute)\n          if (node.localName === 'input' && origName === 'value') {\n            node.setAttribute(origName, '');\n          }\n          // Remove annotation\n          node.removeAttribute(origName);\n          // Case hackery: attributes are lower-case, but bind targets\n          // (properties) are case sensitive. Gambit is to map dash-case to\n          // camel-case: `foo-bar` becomes `fooBar`.\n          // Attribute bindings are excepted.\n          if (kind === 'property') {\n            name = Polymer.CaseMap.dashToCamelCase(name);\n          }\n          addBinding(this, templateInfo, nodeInfo, kind, name, parts, literal);\n          return true;\n        } else {\n          return super._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value);\n        }\n      }\n\n      /**\n       * Overrides default `TemplateStamp` implementation to add support for\n       * binding the properties that a nested template depends on to the template\n       * as `_host_<property>`.\n       *\n       * @override\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template node\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       * @protected\n       */\n      static _parseTemplateNestedTemplate(node, templateInfo, nodeInfo) {\n        let noted = super._parseTemplateNestedTemplate(node, templateInfo, nodeInfo);\n        // Merge host props into outer template and add bindings\n        let hostProps = nodeInfo.templateInfo.hostProps;\n        let mode = '{';\n        for (let source in hostProps) {\n          let parts = [{ mode, source, dependencies: [source] }];\n          addBinding(this, templateInfo, nodeInfo, 'property', '_host_' + source, parts);\n        }\n        return noted;\n      }\n\n      /**\n       * Called to parse text in a template (either attribute values or\n       * textContent) into binding metadata.\n       *\n       * Any overrides of this method should return an array of binding part\n       * metadata  representing one or more bindings found in the provided text\n       * and any \"literal\" text in between.  Any non-literal parts will be passed\n       * to `_evaluateBinding` when any dependencies change.  The only required\n       * fields of each \"part\" in the returned array are as follows:\n       *\n       * - `dependencies` - Array containing trigger metadata for each property\n       *   that should trigger the binding to update\n       * - `literal` - String containing text if the part represents a literal;\n       *   in this case no `dependencies` are needed\n       *\n       * Additional metadata for use by `_evaluateBinding` may be provided in\n       * each part object as needed.\n       *\n       * The default implementation handles the following types of bindings\n       * (one or more may be intermixed with literal strings):\n       * - Property binding: `[[prop]]`\n       * - Path binding: `[[object.prop]]`\n       * - Negated property or path bindings: `[[!prop]]` or `[[!object.prop]]`\n       * - Two-way property or path bindings (supports negation):\n       *   `{{prop}}`, `{{object.prop}}`, `{{!prop}}` or `{{!object.prop}}`\n       * - Inline computed method (supports negation):\n       *   `[[compute(a, 'literal', b)]]`, `[[!compute(a, 'literal', b)]]`\n       *\n       * @param {string} text Text to parse from attribute or textContent\n       * @param {Object} templateInfo Current template metadata\n       * @return {Array<Object>} Array of binding part metadata\n       * @protected\n       */\n      static _parseBindings(text, templateInfo) {\n        let parts = [];\n        let lastIndex = 0;\n        let m;\n        // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n        // Regex matches:\n        //        Iteration 1:  Iteration 2:\n        // m[1]: '{{'          '[['\n        // m[2]: ''            '!'\n        // m[3]: 'prop'        'compute(foo,bar)'\n        while ((m = bindingRegex.exec(text)) !== null) {\n          // Add literal part\n          if (m.index > lastIndex) {\n            parts.push({literal: text.slice(lastIndex, m.index)});\n          }\n          // Add binding part\n          let mode = m[1][0];\n          let negate = Boolean(m[2]);\n          let source = m[3].trim();\n          let customEvent, notifyEvent, colon;\n          if (mode == '{' && (colon = source.indexOf('::')) > 0) {\n            notifyEvent = source.substring(colon + 2);\n            source = source.substring(0, colon);\n            customEvent = true;\n          }\n          let signature = parseMethod(source);\n          let dependencies = [];\n          if (signature) {\n            // Inline computed function\n            let {args, methodName} = signature;\n            for (let i=0; i<args.length; i++) {\n              let arg = args[i];\n              if (!arg.literal) {\n                dependencies.push(arg);\n              }\n            }\n            let dynamicFns = templateInfo.dynamicFns;\n            if (dynamicFns && dynamicFns[methodName] || signature.static) {\n              dependencies.push(methodName);\n              signature.dynamicFn = true;\n            }\n          } else {\n            // Property or path\n            dependencies.push(source);\n          }\n          parts.push({\n            source, mode, negate, customEvent, signature, dependencies,\n            event: notifyEvent\n          });\n          lastIndex = bindingRegex.lastIndex;\n        }\n        // Add a final literal part\n        if (lastIndex && lastIndex < text.length) {\n          let literal = text.substring(lastIndex);\n          if (literal) {\n            parts.push({\n              literal: literal\n            });\n          }\n        }\n        if (parts.length) {\n          return parts;\n        }\n      }\n\n      /**\n       * Called to evaluate a previously parsed binding part based on a set of\n       * one or more changed dependencies.\n       *\n       * @param {HTMLElement} inst Element that should be used as scope for\n       *   binding dependencies\n       * @param {Object} part Binding part metadata\n       * @param {string} path Property/path that triggered this effect\n       * @param {Object} props Bag of current property changes\n       * @param {Object} oldProps Bag of previous values for changed properties\n       * @param {boolean} hasPaths True with `props` contains one or more paths\n       * @return {*} Value the binding part evaluated to\n       * @protected\n       */\n      static _evaluateBinding(inst, part, path, props, oldProps, hasPaths) {\n        let value;\n        if (part.signature) {\n          value = runMethodEffect(inst, path, props, oldProps, part.signature);\n        } else if (path != part.source) {\n          value = Polymer.Path.get(inst, part.source);\n        } else {\n          if (hasPaths && Polymer.Path.isPath(path)) {\n            value = Polymer.Path.get(inst, path);\n          } else {\n            value = inst.__data[path];\n          }\n        }\n        if (part.negate) {\n          value = !value;\n        }\n        return value;\n      }\n\n    }\n\n    return PropertyEffects;\n  });\n\n  /**\n   * Helper api for enqueing client dom created by a host element.\n   *\n   * By default elements are flushed via `_flushProperties` when\n   * `connectedCallback` is called. Elements attach their client dom to\n   * themselves at `ready` time which results from this first flush.\n   * This provides an ordering guarantee that the client dom an element\n   * creates is flushed before the element itself (i.e. client `ready`\n   * fires before host `ready`).\n   *\n   * However, if `_flushProperties` is called *before* an element is connected,\n   * as for example `Templatize` does, this ordering guarantee cannot be\n   * satisfied because no elements are connected. (Note: Bound elements that\n   * receive data do become enqueued clients and are properly ordered but\n   * unbound elements are not.)\n   *\n   * To maintain the desired \"client before host\" ordering guarantee for this\n   * case we rely on the \"host stack. Client nodes registers themselves with\n   * the creating host element when created. This ensures that all client dom\n   * is readied in the proper order, maintaining the desired guarantee.\n   *\n   * @private\n   */\n  let hostStack = {\n\n    stack: [],\n\n    registerHost(inst) {\n      if (this.stack.length) {\n        let host = this.stack[this.stack.length-1];\n        host._enqueueClient(inst);\n      }\n    },\n\n    beginHosting(inst) {\n      this.stack.push(inst);\n    },\n\n    endHosting(inst) {\n      let stackLen = this.stack.length;\n      if (stackLen && this.stack[stackLen-1] == inst) {\n        this.stack.pop();\n      }\n    }\n\n  }\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/mixins/property-effects.html","/*__wc__loader*/\nrequire('../utils/boot.html');\n\nrequire('../utils/mixin.html');\n\n\n(function() {\n\n  'use strict';\n\n  // 1.x backwards-compatible auto-wrapper for template type extensions\n  // This is a clear layering violation and gives favored-nation status to\n  // dom-if and dom-repeat templates.  This is a conceit we're choosing to keep\n  // a.) to ease 1.x backwards-compatibility due to loss of `is`, and\n  // b.) to maintain if/repeat capability in parser-constrained elements\n  //     (e.g. table, select) in lieu of native CE type extensions without\n  //     massive new invention in this space (e.g. directive system)\n  const templateExtensions = {\n    'dom-if': true,\n    'dom-repeat': true\n  };\n  function wrapTemplateExtension(node) {\n    let is = node.getAttribute('is');\n    if (is && templateExtensions[is]) {\n      let t = node;\n      t.removeAttribute('is');\n      node = t.ownerDocument.createElement(is);\n      t.parentNode.replaceChild(node, t);\n      node.appendChild(t);\n      while(t.attributes.length) {\n        node.setAttribute(t.attributes[0].name, t.attributes[0].value);\n        t.removeAttribute(t.attributes[0].name);\n      }\n    }\n    return node;\n  }\n\n  function findTemplateNode(root, nodeInfo) {\n    // recursively ascend tree until we hit root\n    let parent = nodeInfo.parentInfo && findTemplateNode(root, nodeInfo.parentInfo);\n    // unwind the stack, returning the indexed node at each level\n    if (parent) {\n      // note: marginally faster than indexing via childNodes\n      // (http://jsperf.com/childnodes-lookup)\n      for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n        if (nodeInfo.parentIndex === i++) {\n          return n;\n        }\n      }\n    } else {\n      return root;\n    }\n  }\n\n  // construct `$` map (from id annotations)\n  function applyIdToMap(inst, map, node, nodeInfo) {\n    if (nodeInfo.id) {\n      map[nodeInfo.id] = node;\n    }\n  }\n\n  // install event listeners (from event annotations)\n  function applyEventListener(inst, node, nodeInfo) {\n    if (nodeInfo.events && nodeInfo.events.length) {\n      for (let j=0, e$=nodeInfo.events, e; (j<e$.length) && (e=e$[j]); j++) {\n        inst._addMethodEventListenerToNode(node, e.name, e.value, inst);\n      }\n    }\n  }\n\n  // push configuration references at configure time\n  function applyTemplateContent(inst, node, nodeInfo) {\n    if (nodeInfo.templateInfo) {\n      node._templateInfo = nodeInfo.templateInfo;\n    }\n  }\n\n  function createNodeEventHandler(context, eventName, methodName) {\n    // Instances can optionally have a _methodHost which allows redirecting where\n    // to find methods. Currently used by `templatize`.\n    context = context._methodHost || context;\n    let handler = function(e) {\n      if (context[methodName]) {\n        context[methodName](e, e.detail);\n      } else {\n        console.warn('listener method `' + methodName + '` not defined');\n      }\n    };\n    return handler;\n  }\n\n  /**\n   * Element mixin that provides basic template parsing and stamping, including\n   * the following template-related features for stamped templates:\n   *\n   * - Declarative event listeners (`on-eventname=\"listener\"`)\n   * - Map of node id's to stamped node instances (`this.$.id`)\n   * - Nested template content caching/removal and re-installation (performance\n   *   optimization)\n   *\n   * @polymerMixin\n   * @memberof Polymer\n   * @summary Element class mixin that provides basic template parsing and stamping\n   */\n  Polymer.TemplateStamp = Polymer.dedupingMixin(superClass => {\n\n    /**\n     * @polymerMixinClass\n     * @implements {Polymer_TemplateStamp}\n     */\n    class TemplateStamp extends superClass {\n\n      /**\n       * Scans a template to produce template metadata.\n       *\n       * Template-specific metadata are stored in the object returned, and node-\n       * specific metadata are stored in objects in its flattened `nodeInfoList`\n       * array.  Only nodes in the template that were parsed as nodes of\n       * interest contain an object in `nodeInfoList`.  Each `nodeInfo` object\n       * contains an `index` (`childNodes` index in parent) and optionally\n       * `parent`, which points to node info of its parent (including its index).\n       *\n       * The template metadata object returned from this method has the following\n       * structure (many fields optional):\n       *\n       * ```js\n       *   {\n       *     // Flattened list of node metadata (for nodes that generated metadata)\n       *     nodeInfoList: [\n       *       {\n       *         // `id` attribute for any nodes with id's for generating `$` map\n       *         id: {string},\n       *         // `on-event=\"handler\"` metadata\n       *         events: [\n       *           {\n       *             name: {string},   // event name\n       *             value: {string},  // handler method name\n       *           }, ...\n       *         ],\n       *         // Notes when the template contained a `<slot>` for shady DOM\n       *         // optimization purposes\n       *         hasInsertionPoint: {boolean},\n       *         // For nested `<template>`` nodes, nested template metadata\n       *         templateInfo: {object}, // nested template metadata\n       *         // Metadata to allow efficient retrieval of instanced node\n       *         // corresponding to this metadata\n       *         parentInfo: {number},   // reference to parent nodeInfo>\n       *         parentIndex: {number},  // index in parent's `childNodes` collection\n       *         infoIndex: {number},    // index of this `nodeInfo` in `templateInfo.nodeInfoList`\n       *       },\n       *       ...\n       *     ],\n       *     // When true, the template had the `strip-whitespace` attribute\n       *     // or was nested in a template with that setting\n       *     stripWhitespace: {boolean},\n       *     // For nested templates, nested template content is moved into\n       *     // a document fragment stored here; this is an optimization to\n       *     // avoid the cost of nested template cloning\n       *     content: {DocumentFragment}\n       *   }\n       * ```\n       *\n       * This method kicks off a recursive treewalk as follows:\n       *\n       * ```\n       *    _parseTemplate <---------------------+\n       *      _parseTemplateContent              |\n       *        _parseTemplateNode  <------------|--+\n       *          _parseTemplateNestedTemplate --+  |\n       *          _parseTemplateChildNodes ---------+\n       *          _parseTemplateNodeAttributes\n       *            _parseTemplateNodeAttribute\n       *\n       * ```\n       *\n       * These methods may be overridden to add custom metadata about templates\n       * to either `templateInfo` or `nodeInfo`.\n       *\n       * Note that this method may be destructive to the template, in that\n       * e.g. event annotations may be removed after being noted in the\n       * template metadata.\n       *\n       * @param {HTMLTemplateElement} template Template to parse\n       * @param {Object=} outerTemplateInfo Template metadata from the outer\n       *   template, for parsing nested templates\n       * @return {Object} Parsed template metadata\n       */\n      static _parseTemplate(template, outerTemplateInfo) {\n        // since a template may be re-used, memo-ize metadata\n        if (!template._templateInfo) {\n          let templateInfo = template._templateInfo = {};\n          templateInfo.nodeInfoList = [];\n          templateInfo.stripWhiteSpace =\n            (outerTemplateInfo && outerTemplateInfo.stripWhiteSpace) ||\n            template.hasAttribute('strip-whitespace');\n          this._parseTemplateContent(template, templateInfo, {parent: null});\n        }\n        return template._templateInfo;\n      }\n\n      static _parseTemplateContent(template, templateInfo, nodeInfo) {\n        return this._parseTemplateNode(template.content, templateInfo, nodeInfo);\n      }\n\n      /**\n       * Parses template node and adds template and node metadata based on\n       * the current node, and its `childNodes` and `attributes`.\n       *\n       * This method may be overridden to add custom node or template specific\n       * metadata based on this node.\n       *\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template.\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       */\n      static _parseTemplateNode(node, templateInfo, nodeInfo) {\n        let noted;\n        if (node.localName == 'template' && !node.hasAttribute('preserve-content')) {\n          noted = this._parseTemplateNestedTemplate(node, templateInfo, nodeInfo) || noted;\n        } else if (node.localName === 'slot') {\n          // For ShadyDom optimization, indicating there is an insertion point\n          templateInfo.hasInsertionPoint = true;\n        }\n        if (node.firstChild) {\n          noted = this._parseTemplateChildNodes(node, templateInfo, nodeInfo) || noted;\n        }\n        if (node.hasAttributes && node.hasAttributes()) {\n          noted = this._parseTemplateNodeAttributes(node, templateInfo, nodeInfo) || noted;\n        }\n        return noted;\n      }\n\n      /**\n       * Parses template child nodes for the given root node.\n       *\n       * This method also wraps whitelisted legacy template extensions\n       * (`is=\"dom-if\"` and `is=\"dom-repeat\"`) with their equivalent element\n       * wrappers, collapses text nodes, and strips whitespace from the template\n       * if the `templateInfo.stripWhitespace` setting was provided.\n       *\n       * @param {Node} root Root node whose `childNodes` will be parsed\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template.\n       */\n      static _parseTemplateChildNodes(root, templateInfo, nodeInfo) {\n        for (let node=root.firstChild, parentIndex=0, next; node; node=next) {\n          // Wrap templates\n          if (node.localName == 'template') {\n            node = wrapTemplateExtension(node);\n          }\n          // collapse adjacent textNodes: fixes an IE issue that can cause\n          // text nodes to be inexplicably split =(\n          // note that root.normalize() should work but does not so we do this\n          // manually.\n          next = node.nextSibling;\n          if (node.nodeType === Node.TEXT_NODE) {\n            let n = next;\n            while (n && (n.nodeType === Node.TEXT_NODE)) {\n              node.textContent += n.textContent;\n              next = n.nextSibling;\n              root.removeChild(n);\n              n = next;\n            }\n            // optionally strip whitespace\n            if (templateInfo.stripWhiteSpace && !node.textContent.trim()) {\n              root.removeChild(node);\n              continue;\n            }\n          }\n          let childInfo = { parentIndex, parentInfo: nodeInfo };\n          if (this._parseTemplateNode(node, templateInfo, childInfo)) {\n            childInfo.infoIndex = templateInfo.nodeInfoList.push(childInfo) - 1;\n          }\n          // Increment if not removed\n          if (node.parentNode) {\n            parentIndex++;\n          }\n        }\n      }\n\n      /**\n       * Parses template content for the given nested `<template>`.\n       *\n       * Nested template info is stored as `templateInfo` in the current node's\n       * `nodeInfo`. `template.content` is removed and stored in `templateInfo`.\n       * It will then be the responsibility of the host to set it back to the\n       * template and for users stamping nested templates to use the\n       * `_contentForTemplate` method to retrieve the content for this template\n       * (an optimization to avoid the cost of cloning nested template content).\n       *\n       * @param {HTMLTemplateElement} node Node to parse (a <template>)\n       * @param {Object} outerTemplateInfo Template metadata for current template\n       *   that includes the template `node`\n       * @param {Object} nodeInfo Node metadata for current template.\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       */\n      static _parseTemplateNestedTemplate(node, outerTemplateInfo, nodeInfo) {\n        let templateInfo = this._parseTemplate(node, outerTemplateInfo);\n        let content = templateInfo.content =\n          node.content.ownerDocument.createDocumentFragment();\n        content.appendChild(node.content);\n        nodeInfo.templateInfo = templateInfo;\n        return true;\n      }\n\n      /**\n       * Parses template node attributes and adds node metadata to `nodeInfo`\n       * for nodes of interest.\n       *\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template.\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       */\n      static _parseTemplateNodeAttributes(node, templateInfo, nodeInfo) {\n        // Make copy of original attribute list, since the order may change\n        // as attributes are added and removed\n        let noted;\n        let attrs = Array.from(node.attributes);\n        for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n          noted = this._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, a.name, a.value) || noted;\n        }\n        return noted;\n      }\n\n      /**\n       * Parses a single template node attribute and adds node metadata to\n       * `nodeInfo` for attributes of interest.\n       *\n       * This implementation adds metadata for `on-event=\"handler\"` attributes\n       * and `id` attributes.\n       *\n       * @param {Node} node Node to parse\n       * @param {Object} templateInfo Template metadata for current template\n       * @param {Object} nodeInfo Node metadata for current template.\n       * @param {string} name Attribute name\n       * @param {*} value Attribute value\n       * @return {boolean} `true` if the visited node added node-specific\n       *   metadata to `nodeInfo`\n       */\n      static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n        // events (on-*)\n        if (name.slice(0, 3) === 'on-') {\n          node.removeAttribute(name);\n          nodeInfo.events = nodeInfo.events || [];\n          nodeInfo.events.push({\n            name: name.slice(3),\n            value\n          });\n          return true;\n        }\n        // static id\n        else if (name === 'id') {\n          nodeInfo.id = value;\n          return true;\n        }\n      }\n\n      /**\n       * Returns the `content` document fragment for a given template.\n       *\n       * For nested templates, Polymer performs an optimization to cache nested\n       * template content to avoid the cost of cloning deeply nested templates.\n       * This method retrieves the cached content for a given template.\n       *\n       * @param {HTMLTemplateElement} template Template to retrieve `content` for\n       * @return {DocumentFragment} Content fragment\n       */\n      static _contentForTemplate(template) {\n        let templateInfo = template.__templateInfo;\n        return (templateInfo && templateInfo.content) || template.content;\n      }\n\n      /**\n       * Clones the provided template content and returns a document fragment\n       * containing the cloned dom.\n       *\n       * The template is parsed (once and memoized) using this library's\n       * template parsing features, and provides the following value-added\n       * features:\n       * * Adds declarative event listeners for `on-event=\"handler\"` attributes\n       * * Generates an \"id map\" for all nodes with id's under `$` on returned\n       *   document fragment\n       * * Passes template info including `content` back to templates as\n       *   `_templateInfo` (a performance optimization to avoid deep template\n       *   cloning)\n       *\n       * Note that the memoized template parsing process is destructive to the\n       * template: attributes for bindings and declarative event listeners are\n       * removed after being noted in notes, and any nested `<template>.content`\n       * is removed and stored in notes as well.\n       *\n       * @param {HTMLTemplateElement} template Template to stamp\n       * @return {DocumentFragment} Cloned template content\n       */\n      _stampTemplate(template) {\n        // Polyfill support: bootstrap the template if it has not already been\n        if (template && !template.content &&\n            window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n          HTMLTemplateElement.decorate(template);\n        }\n        let templateInfo = this.constructor._parseTemplate(template);\n        let nodeInfo = templateInfo.nodeInfoList;\n        let content = templateInfo.content || template.content;\n        let dom = document.importNode(content, true);\n        // NOTE: ShadyDom optimization indicating there is an insertion point\n        dom.__noInsertionPoint = !templateInfo.hasInsertionPoint;\n        let nodes = dom.nodeList = new Array(nodeInfo.length);\n        dom.$ = {};\n        for (let i=0, l=nodeInfo.length, info; (i<l) && (info=nodeInfo[i]); i++) {\n          let node = nodes[i] = findTemplateNode(dom, info);\n          applyIdToMap(this, dom.$, node, info);\n          applyTemplateContent(this, node, info);\n          applyEventListener(this, node, info);\n        }\n        return dom;\n      }\n\n      /**\n       * Adds an event listener by method name for the event provided.\n       *\n       * This method generates a handler function that looks up the method\n       * name at handling time.\n       *\n       * @param {Node} node Node to add listener on\n       * @param {string} eventName Name of event\n       * @param {string} methodName Name of method\n       * @param {*=} context Context the method will be called on (defaults\n       *   to `node`)\n       * @return {Function} Generated handler function\n       */\n      _addMethodEventListenerToNode(node, eventName, methodName, context) {\n        context = context || node;\n        let handler = createNodeEventHandler(context, eventName, methodName);\n        this._addEventListenerToNode(node, eventName, handler);\n        return handler;\n      }\n\n      /**\n       * Override point for adding custom or simulated event handling.\n       *\n       * @param {Node} node Node to add event listener to\n       * @param {string} eventName Name of event\n       * @param {Function} handler Listener function to add\n       */\n      _addEventListenerToNode(node, eventName, handler) {\n        node.addEventListener(eventName, handler);\n      }\n\n      /**\n       * Override point for adding custom or simulated event handling.\n       *\n       * @param {Node} node Node to remove event listener from\n       * @param {string} eventName Name of event\n       * @param {Function} handler Listener function to remove\n       */\n      _removeEventListenerFromNode(node, eventName, handler) {\n        node.removeEventListener(eventName, handler);\n      }\n\n    }\n\n    return TemplateStamp;\n\n  });\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/mixins/template-stamp.html","/*__wc__loader*/\nrequire('./boot.html');\n\n\n(function() {\n\n  'use strict';\n\n  /** @typedef {{run: function(function(), number=):number, cancel: function(number)}} */\n  let AsyncInterface; // eslint-disable-line no-unused-vars\n\n  // Microtask implemented using Mutation Observer\n  let microtaskCurrHandle = 0;\n  let microtaskLastHandle = 0;\n  let microtaskCallbacks = [];\n  let microtaskNodeContent = 0;\n  let microtaskNode = document.createTextNode('');\n  new window.MutationObserver(microtaskFlush).observe(microtaskNode, {characterData: true});\n\n  function microtaskFlush() {\n    const len = microtaskCallbacks.length;\n    for (let i = 0; i < len; i++) {\n      let cb = microtaskCallbacks[i];\n      if (cb) {\n        try {\n          cb();\n        } catch (e) {\n          setTimeout(() => { throw e });\n        }\n      }\n    }\n    microtaskCallbacks.splice(0, len);\n    microtaskLastHandle += len;\n  }\n\n  /**\n   * Module that provides a number of strategies for enqueuing asynchronous\n   * tasks.  Each sub-module provides a standard `run(fn)` interface that returns a\n   * handle, and a `cancel(handle)` interface for canceling async tasks before\n   * they run.\n   *\n   * @namespace\n   * @memberof Polymer\n   * @summary Module that provides a number of strategies for enqueuing asynchronous\n   * tasks.\n   */\n  Polymer.Async = {\n\n    /**\n     * Async interface wrapper around `setTimeout`.\n     *\n     * @namespace\n     * @memberof Polymer.Async\n     * @summary Async interface wrapper around `setTimeout`.\n     */\n    timeOut: {\n      /**\n       * Returns a sub-module with the async interface providing the provided\n       * delay.\n       *\n       * @memberof Polymer.Async.timeOut\n       * @param {number} delay Time to wait before calling callbacks in ms\n       * @return {AsyncInterface} An async timeout interface\n       */\n      after(delay) {\n        return  {\n          run(fn) { return setTimeout(fn, delay) },\n          cancel: window.clearTimeout.bind(window)\n        }\n      },\n      /**\n       * Enqueues a function called in the next task.\n       *\n       * @memberof Polymer.Async.timeOut\n       * @param {Function} fn Callback to run\n       * @return {number} Handle used for canceling task\n       */\n      run: window.setTimeout.bind(window),\n      /**\n       * Cancels a previously enqueued `timeOut` callback.\n       *\n       * @memberof Polymer.Async.timeOut\n       * @param {number} handle Handle returned from `run` of callback to cancel\n       */\n      cancel: window.clearTimeout.bind(window)\n    },\n\n    /**\n     * Async interface wrapper around `requestAnimationFrame`.\n     *\n     * @namespace\n     * @memberof Polymer.Async\n     * @summary Async interface wrapper around `requestAnimationFrame`.\n     */\n    animationFrame: {\n      /**\n       * Enqueues a function called at `requestAnimationFrame` timing.\n       *\n       * @memberof Polymer.Async.animationFrame\n       * @param {Function} fn Callback to run\n       * @return {number} Handle used for canceling task\n       */\n      run: window.requestAnimationFrame.bind(window),\n      /**\n       * Cancels a previously enqueued `animationFrame` callback.\n       *\n       * @memberof Polymer.Async.timeOut\n       * @param {number} handle Handle returned from `run` of callback to cancel\n       */\n      cancel: window.cancelAnimationFrame.bind(window)\n    },\n\n    /**\n     * Async interface wrapper around `requestIdleCallback`.  Falls back to\n     * `setTimeout` on browsers that do not support `requestIdleCallback`.\n     *\n     * @namespace\n     * @memberof Polymer.Async\n     * @summary Async interface wrapper around `requestIdleCallback`.\n     */\n    idlePeriod: {\n      /**\n       * Enqueues a function called at `requestIdleCallback` timing.\n       *\n       * @memberof Polymer.Async.idlePeriod\n       * @param {function(IdleDeadline)} fn Callback to run\n       * @return {number} Handle used for canceling task\n       */\n      run(fn) {\n        return window.requestIdleCallback ?\n          window.requestIdleCallback(fn) :\n          window.setTimeout(fn, 16);\n      },\n      /**\n       * Cancels a previously enqueued `idlePeriod` callback.\n       *\n       * @memberof Polymer.Async.idlePeriod\n       * @param {number} handle Handle returned from `run` of callback to cancel\n       */\n      cancel(handle) {\n        window.cancelIdleCallback ?\n          window.cancelIdleCallback(handle) :\n          window.clearTimeout(handle);\n      }\n    },\n\n    /**\n     * Async interface for enqueueing callbacks that run at microtask timing.\n     *\n     * Note that microtask timing is achieved via a single `MutationObserver`,\n     * and thus callbacks enqueued with this API will all run in a single\n     * batch, and not interleaved with other microtasks such as promises.\n     * Promises are avoided as an implementation choice for the time being\n     * due to Safari bugs that cause Promises to lack microtask guarantees.\n     *\n     * @namespace\n     * @memberof Polymer.Async\n     * @summary Async interface for enqueueing callbacks that run at microtask\n     *   timing.\n     */\n    microTask: {\n\n      /**\n       * Enqueues a function called at microtask timing.\n       *\n       * @memberof Polymer.Async.microTask\n       * @param {Function} callback Callback to run\n       * @return {*} Handle used for canceling task\n       */\n      run(callback) {\n        microtaskNode.textContent = microtaskNodeContent++;\n        microtaskCallbacks.push(callback);\n        return microtaskCurrHandle++;\n      },\n\n      /**\n       * Cancels a previously enqueued `microTask` callback.\n       *\n       * @memberof Polymer.Async.microTask\n       * @param {number} handle Handle returned from `run` of callback to cancel\n       */\n      cancel(handle) {\n        const idx = handle - microtaskLastHandle;\n        if (idx >= 0) {\n          if (!microtaskCallbacks[idx]) {\n            throw new Error('invalid async handle: ' + handle);\n          }\n          microtaskCallbacks[idx] = null;\n        }\n      }\n\n    }\n  };\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/async.html","/*__wc__loader*/\nrequire('./boot.html');\n\n\n(function() {\n  'use strict';\n\n  /**\n   * Module with utilities for manipulating structured data path strings.\n   *\n   * @namespace\n   * @memberof Polymer\n   * @summary Module with utilities for manipulating structured data path strings.\n   */\n  const Path = {\n\n    /**\n     * Returns true if the given string is a structured data path (has dots).\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.isPath('foo.bar.baz') // true\n     * Polymer.Path.isPath('foo')         // false\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string} path Path string\n     * @return {boolean} True if the string contained one or more dots\n     */\n    isPath: function(path) {\n      return path.indexOf('.') >= 0;\n    },\n\n    /**\n     * Returns the root property name for the given path.\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.root('foo.bar.baz') // 'foo'\n     * Polymer.Path.root('foo')         // 'foo'\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string} path Path string\n     * @return {string} Root property name\n     */\n    root: function(path) {\n      let dotIndex = path.indexOf('.');\n      if (dotIndex === -1) {\n        return path;\n      }\n      return path.slice(0, dotIndex);\n    },\n\n    /**\n     * Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not\n     * Returns true if the given path is an ancestor of the base path.\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.isAncestor('foo.bar', 'foo')         // true\n     * Polymer.Path.isAncestor('foo.bar', 'foo.bar')     // false\n     * Polymer.Path.isAncestor('foo.bar', 'foo.bar.baz') // false\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string} base Path string to test against.\n     * @param {string} path Path string to test.\n     * @return {boolean} True if `path` is an ancestor of `base`.\n     */\n    isAncestor: function(base, path) {\n      //     base.startsWith(path + '.');\n      return base.indexOf(path + '.') === 0;\n    },\n\n    /**\n     * Given `base` is `foo.bar`, `foo.bar.baz` is an descendant\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.isDescendant('foo.bar', 'foo.bar.baz') // true\n     * Polymer.Path.isDescendant('foo.bar', 'foo.bar')     // false\n     * Polymer.Path.isDescendant('foo.bar', 'foo')         // false\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string} base Path string to test against.\n     * @param {string} path Path string to test.\n     * @return {boolean} True if `path` is a descendant of `base`.\n     */\n    isDescendant: function(base, path) {\n      //     path.startsWith(base + '.');\n      return path.indexOf(base + '.') === 0;\n    },\n\n    /**\n     * Replaces a previous base path with a new base path, preserving the\n     * remainder of the path.\n     *\n     * User must ensure `path` has a prefix of `base`.\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.translate('foo.bar', 'zot' 'foo.bar.baz') // 'zot.baz'\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string} base Current base string to remove\n     * @param {string} newBase New base string to replace with\n     * @param {string} path Path to translate\n     * @return {string} Translated string\n     */\n    translate: function(base, newBase, path) {\n      return newBase + path.slice(base.length);\n    },\n\n    matches: function(base, path) {\n      return (base === path) ||\n             this.isAncestor(base, path) ||\n             this.isDescendant(base, path);\n    },\n\n    /**\n     * Converts array-based paths to flattened path.  String-based paths\n     * are returned as-is.\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.normalize(['foo.bar', 0, 'baz'])  // 'foo.bar.0.baz'\n     * Polymer.Path.normalize('foo.bar.0.baz')        // 'foo.bar.0.baz'\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string | !Array<string|number>} path Input path\n     * @return {string} Flattened path\n     */\n    normalize: function(path) {\n      if (Array.isArray(path)) {\n        let parts = [];\n        for (let i=0; i<path.length; i++) {\n          let args = path[i].toString().split('.');\n          for (let j=0; j<args.length; j++) {\n            parts.push(args[j]);\n          }\n        }\n        return parts.join('.');\n      } else {\n        return path;\n      }\n    },\n\n    /**\n     * Splits a path into an array of property names. Accepts either arrays\n     * of path parts or strings.\n     *\n     * Example:\n     *\n     * ```\n     * Polymer.Path.split(['foo.bar', 0, 'baz'])  // ['foo', 'bar', '0', 'baz']\n     * Polymer.Path.split('foo.bar.0.baz')        // ['foo', 'bar', '0', 'baz']\n     * ```\n     *\n     * @memberof Polymer.Path\n     * @param {string | !Array<string|number>} path Input path\n     * @return {!Array<string>} Array of path parts\n     */\n    split: function(path) {\n      if (Array.isArray(path)) {\n        return this.normalize(path).split('.');\n      }\n      return path.toString().split('.');\n    },\n\n    /**\n     * Reads a value from a path.  If any sub-property in the path is `undefined`,\n     * this method returns `undefined` (will never throw.\n     *\n     * @memberof Polymer.Path\n     * @param {Object} root Object from which to dereference path from\n     * @param {string | !Array<string|number>} path Path to read\n     * @param {Object=} info If an object is provided to `info`, the normalized\n     *  (flattened) path will be set to `info.path`.\n     * @return {*} Value at path, or `undefined` if the path could not be\n     *  fully dereferenced.\n     */\n    get: function(root, path, info) {\n      let prop = root;\n      let parts = this.split(path);\n      // Loop over path parts[0..n-1] and dereference\n      for (let i=0; i<parts.length; i++) {\n        if (!prop) {\n          return;\n        }\n        let part = parts[i];\n        prop = prop[part];\n      }\n      if (info) {\n        info.path = parts.join('.');\n      }\n      return prop;\n    },\n\n    /**\n     * Sets a value to a path.  If any sub-property in the path is `undefined`,\n     * this method will no-op.\n     *\n     * @memberof Polymer.Path\n     * @param {Object} root Object from which to dereference path from\n     * @param {string | !Array<string|number>} path Path to set\n     * @param {*} value Value to set to path\n     * @return {string | undefined} The normalized version of the input path\n     */\n    set: function(root, path, value) {\n      let prop = root;\n      let parts = this.split(path);\n      let last = parts[parts.length-1];\n      if (parts.length > 1) {\n        // Loop over path parts[0..n-2] and dereference\n        for (let i=0; i<parts.length-1; i++) {\n          let part = parts[i];\n          prop = prop[part];\n          if (!prop) {\n            return;\n          }\n        }\n        // Set value to object at end of path\n        prop[last] = value;\n      } else {\n        // Simple property set\n        prop[path] = value;\n      }\n      return parts.join('.');\n    }\n\n  };\n\n  /**\n   * Returns true if the given string is a structured data path (has dots).\n   *\n   * This function is deprecated.  Use `Polymer.Path.isPath` instead.\n   *\n   * Example:\n   *\n   * ```\n   * Polymer.Path.isDeep('foo.bar.baz') // true\n   * Polymer.Path.isDeep('foo')         // false\n   * ```\n   *\n   * @deprecated\n   * @memberof Polymer.Path\n   * @param {string} path Path string\n   * @return {boolean} True if the string contained one or more dots\n   */\n  Path.isDeep = Path.isPath;\n\n  Polymer.Path = Path;\n\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/path.html","/*__wc__loader*/\nrequire('./resolve-url.html');\n\n\n(function() {\n  'use strict';\n\n  const MODULE_STYLE_LINK_SELECTOR = 'link[rel=import][type~=css]';\n  const INCLUDE_ATTR = 'include';\n\n  function importModule(moduleId) {\n    if (!Polymer.DomModule) {\n      return null;\n    }\n    return Polymer.DomModule.import(moduleId);\n  }\n\n  /**\n   * Module with utilities for collection CSS text from `<templates>`, external\n   * stylesheets, and `dom-module`s.\n   *\n   * @namespace\n   * @memberof Polymer\n   * @summary Module with utilities for collection CSS text from various sources.\n   */\n  const StyleGather = {\n\n    /**\n     * Returns CSS text of styles in a space-separated list of `dom-module`s.\n     *\n     * @memberof Polymer.StyleGather\n     * @param {string} moduleIds List of dom-module id's within which to\n     * search for css.\n     * @return {string} Concatenated CSS content from specified `dom-module`s\n     */\n    cssFromModules(moduleIds) {\n      let modules = moduleIds.trim().split(' ');\n      let cssText = '';\n      for (let i=0; i < modules.length; i++) {\n        cssText += this.cssFromModule(modules[i]);\n      }\n      return cssText;\n    },\n\n    /**\n     * Returns CSS text of styles in a given `dom-module`.  CSS in a `dom-module`\n     * can come either from `<style>`s within the first `<template>`, or else\n     * from one or more `<link rel=\"import\" type=\"css\">` links outside the\n     * template.\n     *\n     * Any `<styles>` processed are removed from their original location.\n     *\n     * @memberof Polymer.StyleGather\n     * @param {string} moduleId dom-module id to gather styles from\n     * @return {string} Concatenated CSS content from specified `dom-module`\n     */\n    cssFromModule(moduleId) {\n      let m = importModule(moduleId);\n      if (m && m._cssText === undefined) {\n        let cssText = '';\n        // include css from the first template in the module\n        let t = m.querySelector('template');\n        if (t) {\n          cssText += this.cssFromTemplate(t, m.assetpath);\n        }\n        // module imports: <link rel=\"import\" type=\"css\">\n        cssText += this.cssFromModuleImports(moduleId);\n        m._cssText = cssText || null;\n      }\n      if (!m) {\n        console.warn('Could not find style data in module named', moduleId);\n      }\n      return m && m._cssText || '';\n    },\n\n    /**\n     * Returns CSS text of `<styles>` within a given template.\n     *\n     * Any `<styles>` processed are removed from their original location.\n     *\n     * @memberof Polymer.StyleGather\n     * @param {HTMLTemplateElement} template Template to gather styles from\n     * @param {string} baseURI Base URI to resolve the URL against\n     * @return {string} Concatenated CSS content from specified template\n     */\n    cssFromTemplate(template, baseURI) {\n      let cssText = '';\n      // if element is a template, get content from its .content\n      let e$ = template.content.querySelectorAll('style');\n      for (let i=0; i < e$.length; i++) {\n        let e = e$[i];\n        // support style sharing by allowing styles to \"include\"\n        // other dom-modules that contain styling\n        let include = e.getAttribute(INCLUDE_ATTR);\n        if (include) {\n          cssText += this.cssFromModules(include);\n        }\n        e.parentNode.removeChild(e);\n        cssText += baseURI ?\n          Polymer.ResolveUrl.resolveCss(e.textContent, baseURI) : e.textContent;\n      }\n      return cssText;\n    },\n\n    /**\n     * Returns CSS text from stylsheets loaded via `<link rel=\"import\" type=\"css\">`\n     * links within the specified `dom-module`.\n     *\n     * @memberof Polymer.StyleGather\n     * @param {string} moduleId Id of `dom-module` to gather CSS from\n     * @return {string} Concatenated CSS content from links in specified `dom-module`\n     */\n    cssFromModuleImports(moduleId) {\n      let cssText = '';\n      let m = importModule(moduleId);\n      if (!m) {\n        return cssText;\n      }\n      let p$ = m.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);\n      for (let i=0; i < p$.length; i++) {\n        let p = p$[i];\n        if (p.import) {\n          let importDoc = p.import;\n          // NOTE: polyfill affordance.\n          // under the HTMLImports polyfill, there will be no 'body',\n          // but the import pseudo-doc can be used directly.\n          let container = importDoc.body ? importDoc.body : importDoc;\n          cssText +=\n            Polymer.ResolveUrl.resolveCss(container.textContent,\n              importDoc.baseURI);\n        }\n      }\n      return cssText;\n    }\n  };\n\n  Polymer.StyleGather = StyleGather;\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/lib/utils/style-gather.html","/*__wc__loader*/\nrequire('./lib/mixins/element-mixin.html');\n\n\n(function() {\n  'use strict';\n\n  /**\n   * Base class that provides the core API for Polymer's meta-programming\n   * features including template stamping, data-binding, attribute deserialization,\n   * and property change observation.\n   *\n   * @polymerElement\n   * @memberof Polymer\n   * @constructor\n   * @implements {Polymer_ElementMixin}\n   * @extends HTMLElement\n   * @mixes Polymer.ElementMixin\n   * @summary Custom element base class that provides the core API for Polymer's\n   *   key meta-programming features including template stamping, data-binding,\n   *   attribute deserialization, and property change observation\n   */\n  const Element = Polymer.ElementMixin(HTMLElement);\n  Polymer.Element = Element;\n})();\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/@polymer/polymer/polymer-element.html"],"sourceRoot":""}